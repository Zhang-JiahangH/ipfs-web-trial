(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8017],{21011:function(e,t,r){"use strict";r.d(t,{a:function(){return c}});var n=r(64386),l=r(35105),i=r(59006),a=r(43076),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{leading:!0,trailing:!0},l=(0,n.useRef)(e);(0,n.useEffect)((function(){l.current=e}),[e]);var i=r.leading,s=r.trailing;return(0,n.useCallback)(t?(0,a.Z)((function(){return l.current.apply(l,arguments)}),t,{leading:i,trailing:s}):function(){},[t,i,s])},o=r(78559),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,n.useState)(void 0),a=r[0],c=r[1],u=(0,n.useState)(void 0),d=u[0],f=u[1],p=(0,n.useCallback)((function(){if(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;c(r),f(n)}}),[e]),m=t||{},v=m.throttle,x=s(p,v),h=v?x:p;return(0,o.L)((function(){if(e&&(0,i.jU)()){h();var t=new l.do(h);return t.observe(e),function(){t.unobserve(e)}}}),[h,e]),{width:a,height:d}}},29198:function(e,t,r){"use strict";r.d(t,{G:function(){return n}});r(91518),r(72793),r(77661),r(66128),r(11270);var n=function(e){if(!e)return e;for(var t=e.toString(),r=new RegExp(/^[-+]?((\d+)([.,](\d{3}))*([.](\d+))?|([.,](\d+))?)$/),n=",",l=new RegExp(n);l.test(t);)t=t.replace(l,"");if(!r.test(t))return e;t=(t=t.replace(/^(\d*)$/,"$1.")).replace(".",n);for(var i=new RegExp("(\\d)(\\d{3}".concat(n,")"));i.test(t);)t=t.replace(i,"$1,$2");var a=t.lastIndexOf(n),s=t.substr(0,a),o=a===t.length-1?"":t.substr(a).replace(l,".");return t=s+o}},23992:function(e,t,r){"use strict";r.d(t,{Dy:function(){return m},IU:function(){return p},YS:function(){return f},dc:function(){return v}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(7831),l=r(4676),i=(r(64386),r(92130)),a=r.n(i),s=r(40007),o=r(11754),c=["isActive","difficulty","className","difficultyStrokeWidth"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=100,p=84*Math.PI,m=function(e){return(0,o.jsx)("circle",d({fill:"none",cx:"".concat(f/2,"px"),cy:"".concat(f/2,"px"),r:"".concat(e.r?e.r:42,"px"),strokeWidth:3,strokeLinecap:"round",stroke:"currentColor"},e))},v=function(e){var t,r=e.isActive,i=e.difficulty,u=e.className,f=e.difficultyStrokeWidth,p=(0,n.Z)(e,c);return(0,o.jsx)(m,d({strokeWidth:r?8:void 0!==f?f:3,className:a()("cursor-pointer",(t={},(0,l.Z)(t,s.Cj.labelOlive,"EASY"===i.toUpperCase()),(0,l.Z)(t,s.Cj.labelYellow,"MEDIUM"===i.toUpperCase()),(0,l.Z)(t,s.Cj.labelPink,"HARD"===i.toUpperCase()),(0,l.Z)(t,s.Cj.labelBrandOrange,"ALL"===i.toUpperCase()),t),u)},p))}},25207:function(e,t,r){"use strict";r.d(t,{$9:function(){return h},Eq:function(){return b},M5:function(){return x},kC:function(){return v}});r(78464),r(29092),r(70748),r(96543),r(63306);var n=r(59679),l=r(4676),i=r(7831),a=(r(91518),r(62217),r(2979),r(92130)),s=r.n(a),o=r(64386),c=r(11754),u=["children","className"],d=["children","className"],f=["children","className"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e){var t=e.children,r=e.className,n=(0,i.Z)(e,u);return(0,c.jsx)("div",m(m({className:s()("flex",r)},n),{},{children:t}))},x=function(e){var t=e.children,r=e.className,n=(0,i.Z)(e,d);return(0,c.jsx)(v,m(m({className:s()("items-center justify-center",r)},n),{},{children:t}))},h=function(e){var t=e.children,r=e.className,n=(0,i.Z)(e,f);return(0,c.jsx)(v,m(m({className:s()("items-center justify-between",r)},n),{},{children:t}))},j=function(e){var t=e.children,r=e.containerClassName,l=e.className,i=e.itemClassName,a=e.space,u=void 0===a?8:a,d=e.containerRef,f=e.fragmentAsSingle,p=void 0!==f&&f,m=Array.isArray(u)?u:[u,u],x=(0,n.Z)(m,2),h=x[0],j=x[1],b=(0,o.useMemo)((function(){var e=[];return function t(r){o.Children.forEach(r,(function(r){if(o.isValidElement(r)&&r.type===o.Fragment&&!p)return t(r.props.children);var n=(0,c.jsx)("div",{style:{margin:"".concat(j/2,"px ").concat(h/2,"px")},className:i,children:r},e.length);e.push(n)}))}(t),e}),[t,p,i,h,j]);return(0,c.jsx)("div",{ref:d,className:r,children:(0,c.jsx)(v,{className:s()("flex-wrap",l),style:{margin:"".concat(-j/2,"px ").concat(-h/2,"px")},children:b})})},b=(0,o.memo)(j)},1222:function(e,t,r){"use strict";r.d(t,{L:function(){return n},Z:function(){return c}});var n,l=r(4676),i=r(64386),a=r(44872),s=r(40007),o=r(11754);!function(e){e.BORDER="border",e.CARD="card",e.DROPDOWN="dropdown"}(n||(n={}));var c=i.forwardRef((function(e,t){var r=e.className,i=e.children,c=e.borderType,u=void 0===c?n.CARD:c;return(0,o.jsx)("div",{ref:t,className:(0,a.yI)((0,l.Z)({},"".concat(s.Cj.dividerBorder2," border"),u===n.BORDER),s.Cj.bgLayer1,s.$e.down01,"rounded-lg",r),children:i})}))},58358:function(e,t,r){"use strict";r.d(t,{c:function(){return I}});r(94276),r(78464),r(29092),r(96543),r(62217),r(63306);var n=r(59679),l=r(21484),i=r(701),a=r(15898),s=r(36428),o=r(17321),c=r(55034),u=r(95454),d=r(4676),f=(r(65240),r(1743),r(2979),r(17519),r(70748),r(91518),r(3500),r(37872),r(86003),r(29308),r(27115),r(56806),r(36615),r(64386)),p=r(65828),m=r(69897),v=r.n(m),x=r(93885),h=r.n(x),j=r(34247),b=r(11754);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){return(0,b.jsx)("g",y(y({},e.svgProps),{},{children:e.columns}))},w=r(72102);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(e){return e.visible?(0,b.jsx)(w.u,{label:e.title,placement:"top",children:(0,b.jsx)("rect",C(C({},e.svgProps),{},{className:"cursor-pointer"}))}):(0,b.jsx)("rect",C({},e.svgProps))};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){return(0,b.jsx)("g",S(S({},e.svgProps),{},{children:e.blocks}))},E={blockWidth:8.86,endDate:h()(),startDate:h()().subtract(365,"d"),gap:2.66,areaGap:4.43,paddingX:0,filled:!1,levels:[{lte:0,color:"var(--fill-tertiary)"},{lte:25,color:"var(--green-20)"},{lte:50,color:"var(--green-40)"},{lte:75,color:"var(--green-60)"},{lte:100,color:"var(--green-80)"}],onHoverText:function(e){var t=h()(e.date).format("YYYY-MM-DD");return void 0===e.count?"\u6ca1\u6709\u63d0\u4ea4, ".concat(t):"".concat(e.count,"\u4e2a\u63d0\u4ea4, ").concat(t)}};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e){return(0,b.jsx)("text",A(A({},e.svgProps),{},{fill:"#AFB4BD",className:"font-xs",children:e.children}))};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var l=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return(0,c.Z)(this,r)}}var F=function(e){return e.format("YYYY-MM-DD")};h().extend(v());var Z=function(e){(0,o.Z)(r,e);var t=B(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,d.Z)((0,s.Z)(e),"processedDataMap",void 0),(0,d.Z)((0,s.Z)(e),"getColorHelper",(function(t){var r=e.config.levels,n=t.filter((function(e){return!!e})).map((function(e){return e.count})).sort((function(e,t){return e-t})),i=r.slice(1).map((function(e){return{count:n[Math.floor(e.lte*n.length/100)-1],color:e.color}}));return[{count:0,color:r[0].color}].concat((0,l.Z)(i))})),e}return(0,a.Z)(r,[{key:"config",get:function(){return R(R({},E),this.props)}},{key:"areaGap",get:function(){return this.props.separateMonths?this.config.areaGap:0}},{key:"blockGap",get:function(){return this.config.blockWidth+this.config.gap}},{key:"render",value:function(){var e,t=this.getColumnsAndTexts(),r=t.areas,n=t.textMap,l=this.getColumnNums(r),i=null!==(e=this.config.paddingX)&&void 0!==e?e:0,a=l*this.blockGap+(r.length-1)*this.areaGap-this.config.gap+2*i,s=this.props.height||7*this.blockGap+24;return(0,b.jsxs)("svg",{viewBox:"0 0 ".concat(a," ").concat(s),width:this.props.width,children:[this.renderAreas(r),this.renderDates(n)]})}},{key:"renderAreas",value:function(e){var t=this;return e.map((function(e,r){var n={x:e.x,y:e.y,className:"month ".concat(r+1)},l=t.renderColumns(e.data);return(0,b.jsx)(O,{columns:l,svgProps:n},(0,p.Z)())}))}},{key:"renderColumns",value:function(e){var t=this;return e.map((function(e,r){var n={x:e.x,y:e.y,className:"week ".concat(r+1)},l=t.renderBlocks(e.data,n.x,n.y);return(0,b.jsx)(D,{blocks:l,svgProps:n},(0,p.Z)())}))}},{key:"renderBlocks",value:function(e,t,r){var n=this;return e.map((function(e,l){var i={x:t,y:r+l*n.blockGap,width:n.config.blockWidth,height:n.config.blockWidth,fill:e.color,rx:2,ry:2};return(0,b.jsx)(P,{visible:e.visible,title:e.text,svgProps:i},(0,p.Z)())}))}},{key:"renderDates",value:function(e){var t,r=this,i=null!==(t=this.props.textMap)&&void 0!==t?t:new Map,a=7*this.blockGap;return(0,l.Z)(e.entries()).map((function(e){var t=(0,n.Z)(e,2),l=t[0],s=t[1],o=i.get(l),c=o;o&&(c=(0,j.s)(o));var u=r.props.separateMonths?"14px":"10px",d=r.props.separateMonths?16.5:13.5,f={x:s,y:a+d,fontSize:u},m={x:s,y:a+2,width:22,height:22},v=parseInt(r.getMonthFromTextMapKey(l))+1,x=h()("2022-".concat(v,"-01")).format("MMM");return o?(0,b.jsx)("image",R({xlinkHref:c},m),(0,p.Z)()):(0,b.jsx)(L,{svgProps:f,children:x},(0,p.Z)())}))}},{key:"getPlaceholder",value:function(e){return{color:this.config.filled?this.config.levels[0].color:"transparent",text:this.config.onHoverText({date:e}),visible:this.config.filled}}},{key:"generatePlaceholders",value:function(e,t){var r=this;return Array.from({length:t}).map((function(t,n){var l=e.add(n,"d");return r.getPlaceholder(l)})).reverse()}},{key:"getTextMapKey",value:function(e,t){return"".concat(e,"-").concat(t)}},{key:"getMonthFromTextMapKey",value:function(e){var t=e.split("-");return(0,n.Z)(t,2)[1]}},{key:"getColumnsAndTexts",value:function(){var e=this,t=this.config.endDate.diff(this.config.startDate,"d"),r=0;this.processedDataMap=new Map(this.props.data.map((function(e){var t=e.count||0,n=h()(e.date);return r=Math.max(t,r),[F(n),{count:t,date:n}]})));for(var n=[],i=[],a=[],s=this.getColorHelper(this.props.data),o=h()(this.config.startDate).startOf("day"),c=o.clone().endOf("month").startOf("day").add(1,"d"),u=function(r){var u=o.clone().add(r,"d"),d=u.isoWeekday()%7;if(e.props.separateMonths&&d!==a.length){var f,p=u.clone().subtract(d,"d"),m=e.generatePlaceholders(p,d);(f=a).push.apply(f,(0,l.Z)(m))}var v=e.processedDataMap.get(F(u));if(v){var x=s.find((function(e){var t=e.count;return v.count<=t}));x||(x=s[s.length-1]),a.push({color:x.color,text:e.config.onHoverText(v),visible:!0})}else a.push({color:s[0].color,text:e.config.onHoverText({date:u}),visible:!0});var h=u.clone().add(1,"d").isSame(c);(7===a.length||r===t||e.props.separateMonths&&h)&&(i.push(a),a=[]),(e.props.separateMonths&&h||0===a.length&&u.month()===c.month()||r===t)&&(n.push(i),i=[],c=c.clone().add(1,"month"))},d=0;d<=t;++d)u(d);var f=this.formatPosition(n);return{areas:f.areas,columns:[],textMap:f.textMap}}},{key:"formatPosition",value:function(e){var t,r=this,n=h()(this.props.startDate),l=new Map,i=null!==(t=this.config.paddingX)&&void 0!==t?t:0;return{areas:e.map((function(e,t){var a=i,s=e.map((function(e){var t=i;return i+=r.blockGap,{x:t,y:0,data:e}})),o=e.reduce((function(e,t){return e+t.length}),0),c=0===t&&o>=28,u=t>0&&o>=14;if(r.props.separateMonths?o>=14:c||u){var d=(s.length-2.5)/2*r.blockGap;l.set(r.getTextMapKey(n.year(),n.month()),a+d)}return n=n.add(1,"month"),i+=r.props.separateMonths?r.areaGap:0,{x:a,y:0,data:s}})),textMap:l}}},{key:"getColumnNums",value:function(e){return e.reduce((function(e,t){return e+t.data.length}),0)}}]),r}(f.PureComponent),I=Z},19759:function(e,t,r){"use strict";r.d(t,{i:function(){return u}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(7831),i=(r(64386),r(44872)),a=r(11754),s=["orientation","className"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.orientation,r=void 0===t?"horizontal":t,n=e.className,o=(0,l.Z)(e,s);return"vertical"!==r?(0,a.jsx)("hr",c({className:(0,i.yI)("border-divider-2 dark:border-dark-divider-2",n)},o)):(0,a.jsx)("div",c({className:(0,i.yI)("bg-divider-2 dark:bg-dark-divider-2 h-full w-px",n)},o))}},91799:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(92130),l=r.n(n),i=(r(64386),r(40007)),a=r(40808),s=r(11754);function o(e){var t=e.text;return(0,s.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[(0,s.jsx)(a.D,{}),t&&(0,s.jsx)("span",{className:l()("mt-3 text-sm font-medium",i.Cj.label4),children:t})]})}},40808:function(e,t,r){"use strict";r.d(t,{D:function(){return o}});r(64386);var n=r(92130),l=r.n(n),i=r(1308),a=r(36226),s=r(11754);function o(e){var t=(0,i.F)().theme;return(0,s.jsx)(a.y,{src:"dark"===t?"https://static.leetcode.cn/cn-frontendx-assets/production/_next/static/images/null_dark-3f55ffa94690763ee68c9a2be3074a42.png":"https://static.leetcode.cn/cn-frontendx-assets/production/_next/static/images/null_light-53585615fd723ba992bd2df7a10d10d1.png",className:l()(e.className,{"w-[200px]":!e.className}),alt:"\u6570\u636e\u4e3a\u7a7a"})}},34620:function(e,t,r){"use strict";r.d(t,{P:function(){return a}});var n=r(11754),l=["#DFDFDF","#53D780","#42A4FF","#AF52DE","#FFA116"];function i(e){var t=e.level,r=l[t-1];return 6===t?(0,n.jsxs)("svg",{className:"align-top",width:32,height:12,viewBox:"0 0 32 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M3.187.677C3.563.247 4.105 0 4.674 0h7.121c.57 0 1.111.247 1.487.677l2.694 3.085c.666.763.657 1.91-.023 2.662L9.7 13.348a1.97 1.97 0 01-2.929 0L.516 6.424a2.007 2.007 0 01-.022-2.662L3.187.677z",fill:"#fff"}),(0,n.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z",fill:"#000"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z",fill:"#000"}),(0,n.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z",fill:"url(#prefix__paint0_linear)"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z",fill:"url(#prefix__paint1_linear)"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("linearGradient",{id:"prefix__paint0_linear",x1:16,y1:0,x2:16,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#606069"}),(0,n.jsx)("stop",{offset:1})]}),(0,n.jsxs)("linearGradient",{id:"prefix__paint1_linear",x1:16,y1:0,x2:16,y2:14,gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#606069"}),(0,n.jsx)("stop",{offset:1})]})]})]}):(0,n.jsxs)("svg",{className:"align-top",width:32,height:12,viewBox:"0 0 32 14",fill:r,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M3.187.677C3.563.247 4.105 0 4.674 0h7.121c.57 0 1.111.247 1.487.677l2.694 3.085c.666.763.657 1.91-.023 2.662L9.7 13.348a1.97 1.97 0 01-2.929 0L.516 6.424a2.007 2.007 0 01-.022-2.662L3.187.677z",fill:"#fff"}),(0,n.jsx)("path",{d:"M5.005 5.83l2.479 2.817a1 1 0 001.501 0l2.48-2.817a.5.5 0 00-.376-.83H5.38a.5.5 0 00-.375.83z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.187.677C3.563.247 4.105 0 4.674 0h20.44C28.918 0 32 3.134 32 7s-3.083 7-6.886 7H7.756l-.068-.077c-.34-.098-.66-.29-.918-.575L.516 6.424A1.997 1.997 0 01.008 5.26L0 5.25l.007-.007c-.043-.523.12-1.06.487-1.481L3.187.677zm1.714 1.319a.5.5 0 00-.376.171L2.273 4.746a.5.5 0 00.005.664l5.586 6.183a.5.5 0 00.742 0L14.19 5.41a.5.5 0 00.006-.664l-2.252-2.579a.5.5 0 00-.377-.171H4.901z"})]})}var a=function(e){var t=e.level;return(0,n.jsxs)("span",{className:"relative inline-block h-3 select-none leading-3",children:[t?(0,n.jsx)(i,{level:t}):(0,n.jsx)("div",{children:"\u6682\u65e0"}),!!t&&(0,n.jsx)("span",{className:"absolute right-[4px] top-[1px] scale-[calc(11/12)] font-typo text-[12px] text-white",children:"L".concat(t)})]})}},46623:function(e,t,r){"use strict";r.d(t,{P:function(){return f}});var n=r(4676),l=(r(17519),r(2979),r(64386)),i=r(48568),a=r(57735),s=r(50385),o=r(86209),c=r(40007),u=r(44872),d=r(11754),f=function(e){var t=e.options,r=e.selected,f=e.setSelected,p=e.dropdownClassName,m=e.optionClassName,v=e.activeClassName,x=e.selectedClassName,h=e.iconClassName,j=e.buttonClassName,b=e.buttonChevronClassName,g=e.buttonContainerClassName,y=e.renderSelected;return(0,d.jsx)(i.R,{value:r,onChange:f,children:function(e){var f=e.open;return(0,d.jsxs)("div",{className:(0,u.yI)("relative",g),children:[(0,d.jsxs)(i.R.Button,{className:(0,u.yI)("flex cursor-pointer items-center rounded px-3 py-1.5 text-left focus:outline-none","whitespace-nowrap",c.Cj.fill3,c.Cj.label2,c.Cj.fill2Hover,"active:bg-fill-3 dark:active:bg-dark-fill-3",j),children:[y?y(r):null===r||void 0===r?void 0:r.text,(0,d.jsx)(s.C,{className:(0,u.yI)("pointer-events-none ml-3",b),"aria-hidden":"true"})]}),(0,d.jsx)(a.u,{show:f,as:l.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(i.R.Options,{static:!0,style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.04)) drop-shadow(0px 6px 16px rgba(0, 0, 0, 0.12))"},className:(0,u.yI)("absolute mt-1 max-h-56 overflow-auto rounded-lg p-2 z-dropdown focus:outline-none",c.eq.commandBar,c.Cj.bgOverlay3,p),children:t.map((function(e,t){return(0,d.jsx)(i.R.Option,{className:function(e){var t=e.active;return(0,u.yI)(c.Cj.label1,"relative flex h-8 cursor-pointer select-none py-1.5 pl-2",m,(0,n.Z)({},"rounded ".concat(c.Cj.fill4," ").concat(v),t))},value:e,children:function(t){var r=t.selected;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:(0,u.yI)("flex h-5 flex-1 items-center pr-2",(0,n.Z)({},x||"",r)),children:(0,d.jsx)("div",{className:"whitespace-nowrap",children:e.text})}),(0,d.jsx)("span",{className:(0,u.yI)("text-blue dark:text-dark-blue","flex items-center pr-2",{visible:r,invisible:!r}),children:(0,d.jsx)(o.N,{className:(0,u.yI)("h-5 w-5",h),"aria-hidden":"true"})})]})}},t)}))})})]})}})}},77738:function(e,t,r){"use strict";r.d(t,{o:function(){return u}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(90921),i=r.n(l),a=r(46953),s=r(4499);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){var r=a.Z.get("__appToken__");return i()(e,c({headers:c(c({"content-type":"application/json"},r?{Authorization:"Bearer ".concat(r)}:{}),t&&t.headers),xsrfCookieName:"csrftoken",xsrfHeaderName:"X-CSRFToken"},t&&(0,s.Z)(t,"headers")))}},56675:function(e,t,r){"use strict";r.d(t,{D:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsx)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M5.414 11H21a1 1 0 110 2H5.414L12 19.586A1 1 0 0110.586 21l-8.293-8.293a.997.997 0 01.003-1.417L10.586 3A1 1 0 1112 4.414L5.414 11z",clipRule:"evenodd"})}))}))},82875:function(e,t,r){"use strict";r.d(t,{E:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsx)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M18.586 13H3a1 1 0 110-2h15.586L12 4.414A1 1 0 0113.414 3l8.293 8.293a.997.997 0 01-.003 1.417L13.414 21A1 1 0 0112 19.586L18.586 13z",clipRule:"evenodd"})}))}))},86209:function(e,t,r){"use strict";r.d(t,{N:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsx)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M9.688 15.898l-3.98-3.98a1 1 0 00-1.415 1.414L8.98 18.02a1 1 0 001.415 0L20.707 7.707a1 1 0 00-1.414-1.414l-9.605 9.605z",clipRule:"evenodd"})}))}))},63856:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsx)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7 10V8a5 5 0 0110 0v2h1a3 3 0 013 3v6a3 3 0 01-3 3H6a3 3 0 01-3-3v-6a3 3 0 013-3h1zm2 0h6V8a3 3 0 10-6 0v2zm-3 2a1 1 0 00-1 1v6a1 1 0 001 1h12a1 1 0 001-1v-6a1 1 0 00-1-1H6z",clipRule:"evenodd"})}))}))},93141:function(e,t,r){"use strict";r.d(t,{L:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsx)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M12 13.5a1 1 0 01-1-1v-4a1 1 0 112 0v4a1 1 0 01-1 1zm0 3a1 1 0 110-2 1 1 0 010 2zm0 5.5C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16z",clipRule:"evenodd"})}))}))},28567:function(e,t,r){"use strict";r.d(t,{M:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsxs)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:[(0,i.jsx)("path",{fillRule:"evenodd",d:"M20.995 4.824A3 3 0 0018 2H6l-.176.005A3 3 0 003 5v14l.005.176A3 3 0 006 22h12l.176-.005A3 3 0 0021 19V5l-.005-.176zM6 4h12l.117.007A1 1 0 0119 5v14l-.007.117A1 1 0 0118 20H6l-.117-.007A1 1 0 015 19V5l.007-.117A1 1 0 016 4z",clipRule:"evenodd"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M10.763 12.827l-1.06-1.06a1 1 0 00-1.415 1.414l1.415 1.414a1.5 1.5 0 002.12 0l3.889-3.888a1 1 0 00-1.415-1.414l-3.534 3.534z",clipRule:"evenodd"})]}))}))},67382:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(64386),i=r(11754);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=l.forwardRef((function(e,t){return(0,i.jsx)("svg",s(s({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M20.494 16.249a9.5 9.5 0 01-8.491 5.25 9.38 9.38 0 01-3.939-.855l-4.376.838a1 1 0 01-1.17-1.17l.838-4.376a9.377 9.377 0 01-.856-3.937 9.498 9.498 0 015.25-8.492A9.378 9.378 0 0112 2.5l.555.001c4.825.266 8.678 4.119 8.945 8.999v.497a9.381 9.381 0 01-1.006 4.252zM4.76 19.24l3.252-.622a1 1 0 01.64.09A7.382 7.382 0 0012 19.5a7.5 7.5 0 006.706-4.147A7.386 7.386 0 0019.5 12l.002-.445c-.21-3.807-3.25-6.847-7.002-7.055h-.502a7.385 7.385 0 00-3.35.794A7.5 7.5 0 004.5 12.002a7.38 7.38 0 00.793 3.347 1 1 0 01.09.639L4.76 19.24zM7.9 9.35c0 .718.58 1.3 1.294 1.3h.012c.715 0 1.294-.582 1.294-1.3 0-.718-.58-1.3-1.294-1.3h-.012c-.715 0-1.294.582-1.294 1.3zm6.893 1.3a1.297 1.297 0 01-1.293-1.3c0-.718.58-1.3 1.293-1.3h.014c.714 0 1.293.582 1.293 1.3 0 .718-.58 1.3-1.294 1.3h-.012zm.915 3.708a5.244 5.244 0 01-7.416 0 1 1 0 111.414-1.415 3.244 3.244 0 004.588 0 1 1 0 011.414 1.415z",clipRule:"evenodd"})}))}))},6120:function(e,t,r){"use strict";var n,l,i,a,s;r.d(t,{Fd:function(){return n},S5:function(){return a},lr:function(){return l},mZ:function(){return i},sQ:function(){return s}}),function(e){e.Easy="EASY",e.Medium="MEDIUM",e.Hard="HARD"}(n||(n={})),function(e){e.NotStarted="NOT_STARTED",e.Ac="AC",e.Tried="TRIED"}(l||(l={})),function(e){e.Ascending="ASCENDING",e.Descending="DESCENDING"}(i||(i={})),function(e){e.FrontendId="FRONTEND_ID",e.SolutionNum="SOLUTION_NUM",e.AcRate="AC_RATE",e.Frequency="FREQUENCY",e.Difficulty="DIFFICULTY"}(a||(a={})),function(e){e.FRONTEND_ID="title",e.SOLUTION_NUM="solution",e.AC_RATE="acRate",e.FREQUENCY="frequency",e.DIFFICULTY="difficulty"}(s||(s={}))},35292:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});r(78464),r(29092),r(96543),r(62217),r(63306);var n=r(4676),l=(r(65240),r(17519),r(70748),r(91518),r(2979),r(72029),r(62590)),i=r(90074),a=r(11288),s=r(56609);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=(null===(t=(0,i.Ez2)(a.f6,{userSlug:e,limit:120},n).data)||void 0===t?void 0:t.userProfileUserMedals)||[];return(0,l.io)(s.K,{userSlug:e,year:r},c(c({},n),{},{select:function(e){if(!e.userCalendar)return null;var t=o.filter((function(e){return e.category===i.mdI.DailyQuestionMedal})).map((function(e){var t,r="".concat(e.year,"/").concat(e.month,"/1 08:00:00");return{timestamp:new Date(r).getTime()/1e3,badge:{name:e.name||"",icon:(null===(t=e.config)||void 0===t?void 0:t.icon)||""}}}));return c(c({},e.userCalendar),{},{streak:e.userCalendar.recentStreak,dccBadges:t,activeYears:[2022,2021,2020]})}}))}},98400:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return Rl},default:function(){return Bl}});r(17519),r(2979),r(70748),r(91518);var n=r(79216),l=r(18854),i=r(64386),a=r(64694),s=r(59679),o=(r(72029),r(40473)),c=r(87455),u=r(72102),d=r(40007),f=r(79247),p=r(44872),m=r(59787),v=r(88077),x=r(18071),h=r(1836),j=r(36226),b=r(6387),g=r(77738),y=r(86778),O=r(90519),w=r(11754),N=function(e){var t=e.imagePath,r=(0,i.useState)(),n=r[0],l=r[1],a=(0,i.useState)(!1),d=a[0],m=a[1],v=(0,i.useRef)(null),x=(0,f.D)(),h=(0,o.NL)(),N=(0,i.useCallback)((function(){var e;null===(e=v.current)||void 0===e||e.click()}),[v]),C=(0,y.h)({accepts:["image/*"],maxFileCount:1,maxFileSize:2097152,maxFileSizeErrorMsg:"\u6587\u4ef6\u8fc7\u5927"}),P=(0,s.Z)(C,1)[0],k=(0,i.useCallback)((function(e){var t,r=null===(t=e.currentTarget.files)||void 0===t?void 0:t.item(0);r&&P(r)&&(l(r),m(!0))}),[P]),S=(0,i.useCallback)((function(){m(!1)}),[m]),D=(0,c.D)((function(e){return(0,g.o)("/storage/upload/user_avatar/",{method:"post",data:e,withCredentials:!0})}),{onSuccess:function(){b.y.success("\u66f4\u65b0\u6210\u529f"),m(!1),h.invalidateQueries(["userProfilePublicProfile"])},onError:function(){b.y.error("\u66f4\u65b0\u5931\u8d25"),m(!1)}}).mutate;return(0,w.jsxs)("div",{className:"relative flex h-20 w-20 shrink-0",children:[(0,w.jsx)(u.u,{placement:"bottom-start",label:x?"\u66f4\u65b0\u5934\u50cf":"",children:(0,w.jsxs)("div",{children:[(0,w.jsx)(j.y,{src:t,alt:"Avatar",className:(0,p.yI)("h-20 w-20 rounded-lg object-cover",{"cursor-pointer":x}),onClick:function(){x&&N()}}),(0,w.jsx)("input",{className:"hidden",value:"",ref:v,type:"file",accept:"image/*",onChange:k})]})}),!!n&&(0,w.jsx)(O._,{visible:d,file:n,onCancel:S,onOk:function(e){var t=new FormData;t.append("user_avatar",e),D(t)}})]})},C=function(){var e=(0,l.useRouter)().query.username,t=(0,x.i)(e),r=t.data,n=t.status,a=null===r||void 0===r?void 0:r.userProfilePublicProfile,s=(0,h.x)(e).data;(0,i.useEffect)((function(){"success"!==n||a||(location.href=m.Hb.notFound())}),[a,n]);return(0,w.jsx)("div",{className:"mb-6 mr-4 flex py-2",children:function(){var e,t,r,n,l=null===s||void 0===s?void 0:s.matchedUser.activeBadge,i=null===l||void 0===l?void 0:l.color,o=i&&i.length>1&&"#FFA116"===i[0]?"text-[#FFA116] dark:text-[#ffa116]":d.Cj.label1;return(0,w.jsxs)("div",{className:"flex flex-1 space-x-5",children:[(0,w.jsx)(N,{imagePath:(null===a||void 0===a||null===(e=a.profile)||void 0===e?void 0:e.userAvatar)||v.tU}),(0,w.jsxs)("div",{className:"flex flex-col",children:[(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)("div",{className:"".concat(o," break-all text-xl font-semibold"),children:(null===a||void 0===a||null===(t=a.profile)||void 0===t?void 0:t.realName)||(null===a||void 0===a?void 0:a.profile.userSlug)}),(null===a||void 0===a||null===(r=a.profile)||void 0===r?void 0:r.realName)&&(null===l||void 0===l?void 0:l.id)&&(0,w.jsx)("div",{className:"mb-1 ml-1 flex flex-col justify-end",children:(0,w.jsx)(j.y,{alt:l.name,src:l.icon,className:"h-[16px]"})})]}),(0,w.jsx)("div",{className:"flex items-center",children:(0,w.jsx)("div",{className:"".concat(d.Cj.label3),children:null!==a&&void 0!==a&&null!==(n=a.profile)&&void 0!==n&&n.realName?a.profile.userSlug:""})}),null!==a&&void 0!==a&&a.siteRanking?(0,w.jsxs)("div",{className:"flex flex-1 items-end space-x-[5px] text-sm",children:[(0,w.jsx)("span",{className:d.Cj.label2,children:"\u5168\u7ad9\u6392\u540d"}),(0,w.jsx)("span",{className:"t".concat(d.Cj.label1),children:null===a||void 0===a?void 0:a.siteRanking.toLocaleString()})]}):null]})]})}()})},P=r(19129),k=r(22980),S=r.n(k),D=(r(43969),r(3500),r(58935),r(27064)),E=r(92130),M=r.n(E),A=r(63029),L=r.n(A),_=r(66455),R=r(40682),B=r(86598),F=r(11848),Z=r(27319),I=r(4676),G=(r(66128),r(78464),r(29092),r(96543),r(62217),r(63306),r(22175)),V=r(36111),T=r(11495);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=i.forwardRef((function(e,t){return(0,w.jsx)("svg",X(X({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M16.008 12.124A1.017 1.017 0 0116 12V7.586l-1.121 1.121a1 1 0 11-1.415-1.414l2.829-2.829a1 1 0 011.414 0l2.828 2.829a1 1 0 11-1.414 1.414L18 7.586V12c0 .042-.003.083-.008.124A4.002 4.002 0 0117 20a4 4 0 01-.992-7.876zm-8.016-.248c.005.04.008.082.008.124v1h2a1 1 0 110 2H8v4a1 1 0 11-2 0v-4H4a1 1 0 110-2h2v-1c0-.042.003-.083.008-.124A4.002 4.002 0 017 4a4 4 0 01.992 7.876zM7 10a2 2 0 100-4 2 2 0 000 4zm10 4a2 2 0 100 4 2 2 0 000-4z",clipRule:"evenodd"})}))})),z=r(56511),W=r(44665);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=i.forwardRef((function(e,t){return(0,w.jsxs)("svg",Y(Y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:[(0,w.jsx)("path",{fillRule:"evenodd",d:"M8.047 13H3a1 1 0 01-.117-1.993L3 11h5.045c.235-3.188 1.338-6.213 3.16-8.606a1 1 0 011.59 0c1.817 2.387 2.92 5.401 3.158 8.606H21a1 1 0 01.117 1.993L21 13h-5.045c-.235 3.188-1.338 6.213-3.16 8.606a1 1 0 01-1.59 0C9.387 19.219 8.284 16.205 8.046 13zm2.004 0c.185 2.217.843 4.332 1.903 6.138l.046.075.046-.075c1.064-1.811 1.723-3.932 1.905-6.138h-3.9zm3.898-2c-.185-2.217-.843-4.332-1.903-6.138L12 4.786l-.046.076C10.89 6.673 10.231 8.794 10.05 11h3.9z",clipRule:"evenodd"}),(0,w.jsx)("path",{fillRule:"evenodd",d:"M12 4a8 8 0 100 16 8 8 0 000-16zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12z",clipRule:"evenodd"})]}))})),Q=r(90854);function K(e){if(Array.isArray(e.content)){if(!e.render)return null;var t=(0,Q.Z)(e.content),r=t[0],n=t.slice(1);return(0,w.jsxs)("div",{className:"relative mb-[10px] ".concat(n.length>0?"before:content-['\"\"'] before:absolute before:h-[calc(100%-26px)] before:w-[1px] before:bg-gray-3 before:dark:bg-gray-7 before:left-[8.5px] before:top-[20px]":""),children:[(0,w.jsxs)("div",{className:"relative mb-[10px] flex items-center",children:[(0,w.jsx)("div",{className:"flex h-[18px] w-[18px] shrink-0 items-center justify-center",children:e.icon}),(0,w.jsx)("div",{className:"ml-[8px] w-[calc(100%-26px)] break-all leading-[17px]",children:e.render(r)})]}),n.map((function(t,r){return(0,w.jsxs)("div",{className:"relative mb-[10px] flex items-center",children:[(0,w.jsx)("div",{className:"flex h-[18px] w-[18px] shrink-0 items-center justify-center",children:(0,w.jsx)("div",{className:"bg-gray-3 dark:border-gray-8 dark:bg-gray-7 h-[9px] w-[9px] rounded-full border-2 border-solid border-white"})}),(0,w.jsx)("div",{className:"ml-[8px] w-[calc(100%-26px)] break-all leading-[17px]",children:e.render(t)})]},r)}))]})}return(0,w.jsxs)("div",{className:"relative mb-[10px] flex items-center",children:[(0,w.jsx)("div",{className:"flex h-[18px] w-[18px] shrink-0 items-center justify-center",children:e.icon}),(0,w.jsx)("div",{className:"ml-[8px] w-[calc(100%-26px)] break-all leading-[17px]",children:e.content})]})}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ee={1:"\u7537",2:"\u5973",3:"\u4fdd\u5bc6"},te=function(e){return(0,w.jsxs)("div",{className:"flex",children:[e.company,e.job&&(0,w.jsx)("div",{className:"border-r-gray-3 dark:border-r-gray-6 mx-[10px] my-0 h-[17px] border-r-2 border-solid"}),e.job]})},re=function(e){return(0,w.jsx)("span",{children:null===e||void 0===e?void 0:e.name})},ne=function(e){var t=/^https?/.test(e)?e:"http://".concat(e);return(0,w.jsx)("a",{className:"".concat(d.Cj.label1Hover," font-normal leading-[17px]"),href:t,target:"_blank",rel:"noreferrer",children:e})},le=function(e){if(!e)return null;var t=e.split("https://github.com/")[1];return(0,w.jsx)("a",{className:"".concat(d.Cj.label1Hover," font-normal leading-[17px]"),href:e,target:"_blank",rel:"noreferrer",children:t})};function ie(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n?"\u6d77\u5916":"\u4e2d\u56fd"===e?t&&r?"".concat(t).concat(r):t||e:e?"".concat(e).concat(t?"".concat(t):""):null}var ae=(0,i.memo)((function(){var e,t,r,n,a=(0,l.useRouter)().query.username,s=null===(e=(0,x.i)(a).data)||void 0===e?void 0:e.userProfilePublicProfile,o=null===s||void 0===s?void 0:s.profile.github,c=(0,i.useMemo)((function(){var e,t;return null!==s&&void 0!==s&&null!==(e=s.profile.company)&&void 0!==e&&e.name||null!==s&&void 0!==s&&s.profile.job?{company:null===s||void 0===s||null===(t=s.profile.company)||void 0===t?void 0:t.name,job:null===s||void 0===s?void 0:s.profile.job}:null}),[null===s||void 0===s||null===(t=s.profile.company)||void 0===t?void 0:t.name,null===s||void 0===s?void 0:s.profile.job]),u=null!==(r=null===s||void 0===s?void 0:s.profile.globalLocation)&&void 0!==r?r:{},f=u.country,p=u.province,m=u.city,v=u.overseasCity,h=(0,i.useMemo)((function(){var e="w-full h-full ".concat(d.Cj.label2),t="w-[15px] h-[15px] ".concat(d.Cj.label2);return[{icon:(0,w.jsx)(G.x,{className:e}),content:[c],render:c&&te},{icon:(0,w.jsx)(V.D,{className:t}),content:null===s||void 0===s?void 0:s.profile.ipRegion},{icon:(0,w.jsx)(T.D,{className:e}),content:ie(f,p,m,v)},{icon:(0,w.jsx)(H,{className:e}),content:ee[(null===s||void 0===s?void 0:s.profile.gender)||"3"]},{icon:(0,w.jsx)(z.p,{className:e}),content:[null===s||void 0===s?void 0:s.profile.school],render:(null===s||void 0===s?void 0:s.profile.school)&&re},{icon:(0,w.jsx)(W.U,{className:e}),content:[o],render:o&&le},{icon:(0,w.jsx)($,{className:e}),content:null===s||void 0===s?void 0:s.profile.websites,render:ne}]}),[c,null===s||void 0===s?void 0:s.profile.ipRegion,null===s||void 0===s?void 0:s.profile.gender,null===s||void 0===s?void 0:s.profile.school,null===s||void 0===s?void 0:s.profile.websites,f,p,m,v,o]).filter((function(e){return Array.isArray(e.content)?0!==e.content.length:!!e.content}));return h.length&&(n=h.map((function(e,t){return(0,w.jsx)(K,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),t)}))),(0,w.jsx)("div",{className:"".concat(d.Cj.label2),children:n})}));function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ce=i.forwardRef((function(e,t){return(0,w.jsx)("svg",oe(oe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M14.89 3.727l5.377 5.375a2.499 2.499 0 010 3.536l-7.77 7.776a2 2 0 01-1.415.586H5a2 2 0 01-2-2v-6.08a2 2 0 01.586-1.415l7.78-7.778a2.5 2.5 0 013.524 0zm-1.412 1.416l.002.002a.499.499 0 00-.702-.002L5 12.92V19h6.082l7.772-7.777a.499.499 0 000-.706l-5.376-5.374zm-4.01 9.389a1.249 1.249 0 11-1.766 1.766 1.249 1.249 0 011.766-1.766z",clipRule:"evenodd"})}))})),ue=r(51200),de=r(56378),fe=(r(87621),r(51506),r(56806),r(29308),r(5001)),pe=r(77850),me=r(90074),ve=r(87201),xe=r(55074),he=function(){var e=(0,n.$G)("edit-profile",{keyPrefix:"resume"}).t,t=(0,i.useMemo)((function(){var t=(0,p.yI)("mr-1",d.Cj.labelGrey7);return[{icon:(0,w.jsx)(G.x,{className:t}),text:e("intention")},{icon:(0,w.jsx)(fe.y,{className:t}),text:e("workExperience")},{icon:(0,w.jsx)(z.p,{className:t}),text:e("education")},{icon:(0,w.jsx)(pe.z,{className:t}),text:e("basic")}]}),[e]);(0,i.useEffect)((function(){ve.t.resumeResumeGuideCardExposure()}),[]);var r=(0,xe.a)().data;if(!r)return null;var l=r.completedTasks,a=0,s=function(e){ve.t.resumeResumeGuideCardBtnClick({resume_resume_guide_btn_type:e})};return l.includes(me.C9h.Basic)?(0,w.jsx)(L(),{href:m.Hb.profileResume(),passHref:!0,children:(0,w.jsx)("a",{onClick:function(){return s("update")},className:"".concat(d.Cj.bgDivider3," ").concat(d.Cj.bgDivider3Hover," ").concat(d.Cj.label2," ").concat(d.Cj.label2Hover," mt-2 inline-block w-full rounded-lg py-[7px] text-center font-medium"),children:"\u66f4\u65b0\u7b80\u5386\u4fe1\u606f"})}):(l.includes(me.C9h.Edu)?a=3:l.includes(me.C9h.WorkExperience)?a=2:l.includes(me.C9h.Intention)&&(a=1),(0,w.jsxs)("div",{className:(0,p.yI)("divider4 mt-4 rounded-lg border",d.Cj.divider4),style:{background:"linear-gradient(180deg, rgba(245, 239, 184, 0.2) 0%, rgba(94, 238, 229, 0) 100%)",backdropFilter:"blur(20px)"},children:[(0,w.jsx)("div",{className:"h-[46px] px-4 py-3 text-[14px] font-medium",children:"\u5b9a\u5236\u4f60\u7684\u7406\u60f3\u5de5\u4f5c\u673a\u4f1a"}),(0,w.jsxs)("div",{className:(0,p.yI)("rounded-lg px-4 py-3",d.Cj.bgLayer1),children:[(0,w.jsxs)("div",{className:"flex items-center",children:[t[a].icon,(0,w.jsxs)("span",{className:d.Cj.label2,children:["\u586b\u5199",t[a].text]})]}),(0,w.jsxs)("div",{className:"my-1 flex items-center",children:[(0,w.jsx)("div",{className:"mr-1 flex h-[8px] w-full justify-between space-x-1",children:Array.from({length:4},(function(e,t){return t})).map((function(e){return(0,w.jsx)("div",{className:(0,p.yI)("flex-1",e<a?d.Cj.bgGreenStandard:d.Cj.bgDivider3,{"rounded-l-md":0===e,"rounded-r-md":0!==e&&3===e})},e)}))}),(0,w.jsxs)("span",{children:[a,"/",4]})]}),(0,w.jsx)("div",{className:d.Cj.label3,children:"\u5373\u523b\u83b7\u5f97\u66f4\u4f18\u804c\u4f4d\u63a8\u8350"}),(0,w.jsx)(L(),{href:m.Hb.profileResume(),passHref:!0,children:(0,w.jsx)("a",{onClick:function(){return s("complete")},className:"".concat(d.Cj.bgDivider3," ").concat(d.Cj.bgDivider3Hover," ").concat(d.Cj.label2," ").concat(d.Cj.label2Hover," mt-4 inline-block w-full rounded-lg py-[7px] text-center font-medium"),children:"\u5b8c\u5584\u7b80\u5386\u4fe1\u606f"})})]})]}))},je=r(21484),be=(r(1743),r(78659)),ge=r(67975),ye=r(54151),Oe=15;function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ke=function(e){var t=e.show,r=e.onClick,l=(0,n.$G)("public-profile").t;return(0,w.jsx)("div",{className:M()("flex w-full items-center justify-center",{"mt-4":t}),children:(0,w.jsx)("div",{onClick:r,className:M()({hidden:!t},"flex h-[30px] w-[252px] cursor-pointer items-center justify-center rounded border transition-colors",d.Cj.dividerBorder2,d.Cj.label2,d.Cj.fill4Hover),children:l("recentsList.showMore")})})},Se=r(57132),De=function(e){var t=e.imagePath,r=e.size,n=v.tU,l=r||20;return(0,w.jsx)("div",{className:"relative flex h-".concat(l," w-").concat(l," shrink-0"),children:(0,w.jsx)(j.y,{src:t||n,alt:"Avatar",className:"h-".concat(l," w-").concat(l," rounded-lg object-cover")})})},Ee=function(e){var t,r,n,a=e.user,s=(0,l.useRouter)(),o=s.query.username,c=null===(t=(0,R.U5)())||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.userStatus)||void 0===n?void 0:n.username,u=(0,F.c)(a.userSlug,a.isFollowedByMe,!0,o,a.isCompany).mutateAsync,f=function(){var e=(0,P.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return s.push(m.Hb.signIn()),e.abrupt("return");case 3:return e.next=5,u({userSlug:a.userSlug});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=(0,i.useMemo)((function(){return a.isCompany?"/company/".concat(a.userSlug):"/u/".concat(a.userSlug)}),[a]);return(0,w.jsxs)("div",{className:"flex flex-row items-center justify-between py-2",children:[(0,w.jsx)(L(),{href:p,passHref:!0,children:(0,w.jsx)("a",{target:"_blank",children:(0,w.jsxs)("div",{className:"flex flex-row",children:[(0,w.jsx)(De,{imagePath:a.userAvatar,size:16}),(0,w.jsxs)("div",{className:"ml-4",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label2),children:a.realName}),(0,w.jsx)("div",{className:"text-[12px] ".concat(d.Cj.label4),children:a.userSlug}),(0,w.jsx)("div",{className:"w-[120px] truncate text-[12px] ".concat(d.Cj.label3),children:a.aboutMe})]})]})})}),(0,w.jsx)("div",{children:(0,w.jsx)(_.z,{className:"mr-1",variant:"".concat(null!==a&&void 0!==a&&a.isFollowedByMe?"secondary":"primary"),onClick:f,children:function(e){return e.isMutualFollowing?"\u4e92\u76f8\u5173\u6ce8":e.isFollowedByMe?"\u5df2\u5173\u6ce8":"\u5173\u6ce8"}(a)})})]})},Me=function(e){var t,r=e.username,n=function(e){var t={userSlug:e,pageNumber:0,resultPerPage:Oe};return(0,be.N)(["getFollowerUsers",{userSlug:e,resultPerPage:Oe}],(function(e){var r=e.pageParam,n=void 0===r?t:r;return ye.a.request(ge.vc,n).then((function(e){var t;return(null===(t=e.followers)||void 0===t?void 0:t.users)||[]}))}),{getNextPageParam:function(e,r){return e&&(null===e||void 0===e?void 0:e.length)>=Oe?Ne(Ne({},t),{},{pageNumber:r.length}):void 0}})}(r),l=n.data,a=(0,i.useMemo)((function(){return null===l||void 0===l?void 0:l.pages.reduce((function(e,t){return[].concat((0,je.Z)(e),(0,je.Z)(t))}),[])}),[l]),s=function(e){var t=v.tU,r={userSlug:e,pageNumber:0,resultPerPage:Oe};return(0,be.N)(["getFollowingUsers",{userSlug:e,resultPerPage:Oe}],(function(e){var n=e.pageParam,l=void 0===n?r:n;return ye.a.request(ge.be,l).then((function(e){var r,n;return null!==(r=e.followingEntities)&&void 0!==r&&r.entities?((null===(n=e.followingEntities)||void 0===n?void 0:n.entities)||[]).map((function(e){return function(e){return void 0!==e.userSlug}(e)?e:{userSlug:e.slug,userAvatar:e.imgUrl||t,isFollowingMe:!1,isMutualFollowing:!1,aboutMe:e.desc,isFollowedByMe:e.isFollowedByMe,realName:e.name,isCompany:!0}})):[]}))}),{getNextPageParam:function(e,t){return e&&(null===e||void 0===e?void 0:e.length)>=Oe?Pe(Pe({},r),{},{pageNumber:t.length}):void 0}})}(r),o=s.data,c=(0,i.useMemo)((function(){return null===o||void 0===o?void 0:o.pages.reduce((function(e,t){return[].concat((0,je.Z)(e),(0,je.Z)(t))}),[])}),[o]),u=(0,Se.i)(),d=u.appState,f=d.modalVisible,p=d.followerUsers,m=d.followingUsers,x=d.isFollowersTab,h=u.setAppState,j=(x?p:m)||[];return(0,i.useEffect)((function(){h({followerUsers:a,followingUsers:c})}),[a,c,h]),(0,i.useEffect)((function(){f||(n.refetch(),s.refetch())}),[n,s,f]),(0,w.jsxs)("div",{className:"mt-2",children:[(0,w.jsx)("div",{className:"divide-gray-3 dark:divide-gray-6 divide-y divide-solid",children:j.map((function(e,t){return(0,w.jsx)("div",{children:(0,w.jsx)(Ee,{user:e})},e.userSlug||t)}))}),(0,w.jsx)(ke,{show:(t=x,t?n.hasNextPage:s.hasNextPage),onClick:function(e){return function(){e?n.fetchNextPage():s.fetchNextPage()}}(x)})]})},Ae=(Math.pow(10,6),new D.SocialLinks,v.tU,de.a.profileProfileEditClick),Le=function(e){var t=e.label;return(0,w.jsx)("div",{className:"".concat(d.Cj.label2," ").concat(d.Cj.fill3," rounded-[16px] px-2 py-0.5 text-xs"),children:t})},_e=function(e){var t=e.tags;return t.length?(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsx)("span",{className:"mt-[3px] text-base",children:(0,w.jsx)(ce,{})}),(0,w.jsx)("span",{children:(0,w.jsx)("div",{className:"flex flex-wrap",children:t.slice(0,5).map((function(e,t){return(0,w.jsx)("div",{className:"pb-1.5 pr-1.5",children:(0,w.jsx)(Le,{label:e})},t)}))})})]}):null},Re=function(){var e=(0,n.$G)("public-profile").t;return(0,w.jsx)(L(),{href:m.Hb.profileHome(),passHref:!0,children:(0,w.jsx)("a",{onClick:Ae,className:"".concat(d.Cj.bgGreen0," ").concat(d.Cj.labelGreenStandard," ").concat(d.Cj.labelGreenStandardHover," w-full rounded-lg py-[7px] text-center font-medium"),children:e("basic.editProfile")})})},Be=function(){var e,t,r,a,s,o,c=(0,l.useRouter)(),u=c.query.username,p=(0,n.$G)("public-profile").t,v=(0,B.H)(u),h=v.data,j=v.refetch,b=null===(e=(0,x.i)(u).data)||void 0===e?void 0:e.userProfilePublicProfile,g=(0,Se.i)(),y=g.appState,O=y.modalVisible,N=y.followersCount,C=y.followingCount,k=y.isFollowersTab,D=y.checkingUser,E=g.setAppState,M=null===(t=(0,R.U5)())||void 0===t||null===(r=t.data)||void 0===r||null===(a=r.userStatus)||void 0===a?void 0:a.isSignedIn,A=(0,f.D)(),L=(0,F.c)(u,(null===D||void 0===D?void 0:D.haveFollowed)||!1,!1,u).mutateAsync,I=i.useCallback((0,P.Z)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=3;break}return c.push(m.Hb.signIn()),e.abrupt("return");case 3:if(!(t=u||"")){e.next=7;break}return e.next=7,L({userSlug:t});case 7:case"end":return e.stop()}}),e)}))),[M,L,c,u]),G=(null===h||void 0===h||null===(s=h.followingEntities)||void 0===s?void 0:s.allNum)||0,V=(null===h||void 0===h||null===(o=h.followers)||void 0===o?void 0:o.allNum)||0;(0,i.useEffect)((function(){E({followingCount:G,followersCount:V,checkingUser:b})}),[G,V,b,E]),(0,i.useEffect)((function(){O||j()}),[O,j]);var T=C+N,U=function(e){document.body.style.overflow="hidden",E({modalVisible:!0,isFollowersTab:e}),e?de.a.profileProfileFollowersClick():de.a.profileProfileFollowedClick()};return(0,w.jsxs)("div",{children:[(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"mb-3.5 flex w-full justify-center",children:[(0,w.jsxs)("div",{className:"mr-7 flex flex-col items-center ".concat(T>0?"cursor-pointer":""),onClick:function(){return U(!1)},children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label2),children:p("basic.following")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1),children:C>0?C:0})]}),(0,w.jsx)("div",{className:"flex items-center",children:(0,w.jsx)("div",{className:"bg-gray-3 dark:border-gray-8 dark:bg-gray-6 h-8 w-[5px] rounded-full border-2 border-solid border-white"})}),(0,w.jsxs)("div",{className:"ml-7 flex flex-col items-center ".concat(T>0?"cursor-pointer":""),onClick:function(){return U(!0)},children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label2),children:p("basic.followers")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1),children:N>0?N:0})]})]}),(0,w.jsx)(Z.u,{className:"h-[540px] w-[640px] overflow-scroll",visible:O,onCancel:function(){document.body.style.overflow="unset",E({modalVisible:!1})},maskClosable:!0,children:(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex space-x-2",children:[(0,w.jsxs)("div",{className:"".concat(k?d.Cj.label4:d.Cj.label2," cursor-pointer"),onClick:function(){E({isFollowersTab:!1})},children:["\u5173\u6ce8\u4e86 ",C>0?C:0]}),(0,w.jsx)("div",{className:"flex items-center",children:(0,w.jsx)("div",{className:"bg-gray-3 dark:bg-gray-6 h-4 w-[5px] rounded-full border-2 border-solid border-white dark:border-[#383838]"})}),(0,w.jsxs)("div",{className:"".concat(k?d.Cj.label2:d.Cj.label4," cursor-pointer"),onClick:function(){E({isFollowersTab:!0})},children:["\u5173\u6ce8\u8005 ",N>0?N:0]})]}),(0,w.jsx)(Me,{username:u})]})})]}),(0,w.jsxs)("div",{className:"flex w-full flex-col",children:[A&&(0,w.jsx)(Re,{}),!A&&(0,w.jsx)("div",{className:"flex w-full",children:(0,w.jsx)(_.z,{onClick:I,variant:"".concat(null!==D&&void 0!==D&&D.haveFollowed?"secondary":"primary"),className:"ml-1 flex w-full justify-center",children:null!==D&&void 0!==D&&D.haveFollowed?(0,w.jsx)(w.Fragment,{children:"\u53d6\u6d88\u5173\u6ce8"}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(ue.S,{className:"mr-2"}),"\u5173\u6ce8"]})})}),A&&(0,w.jsx)(he,{})]}),function(){var e=(null===D||void 0===D?void 0:D.profile.aboutMe)||"\u65e0";return(0,w.jsxs)("div",{className:"mt-6",children:[(0,w.jsx)("p",{className:"text-[16px] font-semibold leading-[22px] ".concat(d.Cj.label1),children:p("basic.aboutMe")}),(0,w.jsx)("p",{className:"text-justify text-[14px] leading-relaxed ".concat(d.Cj.label2," my-[16px] break-all"),children:e.length>100?e.slice(0,100)+"...":e})]})}(),(0,w.jsx)(ae,{}),(0,w.jsx)(_e,{tags:(null===D||void 0===D?void 0:D.profile.skillTags)||[]})]})},Fe=(r(31628),r(37872),r(86003),r(27115),r(90417)),Ze=r(34620),Ie=r(81134),Ge=r(30486),Ve=r(11879),Te=r(24464);function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var He=i.forwardRef((function(e,t){return(0,w.jsx)("svg",Xe(Xe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M5.438 4.417A1 1 0 016.251 4h11.498a1 1 0 01.813.417l3.952 5.512a1 1 0 01-.093 1.277l-8.982 9.304a2 2 0 01-2.878 0L1.58 11.206a1 1 0 01-.093-1.277l3.952-5.512zm2.27 4.876a1 1 0 00-1.415 1.414l5 5a1 1 0 001.414 0l5-5a1 1 0 00-1.414-1.414L12 13.586 7.707 9.293z",clipRule:"evenodd"})}))}));function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qe,Ye=i.forwardRef((function(e,t){return(0,w.jsx)("svg",We(We({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M1.104 12.444a1 1 0 010-.888c.13-.26.37-.693.722-1.241A18.85 18.85 0 013.88 7.652C6.184 5.176 8.896 3.667 12 3.667s5.816 1.509 8.119 3.985c.79.85 1.475 1.756 2.055 2.663.352.548.593.98.722 1.24a1 1 0 010 .89c-.13.26-.37.692-.722 1.24a18.848 18.848 0 01-2.055 2.663c-2.303 2.476-5.015 3.985-8.119 3.985s-5.816-1.509-8.119-3.985a18.846 18.846 0 01-2.055-2.663c-.352-.548-.593-.98-.722-1.24zM12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}))})),$e=r(91430),Qe=r(67533),Ke={1:{minScore:5,maxScore:49},2:{minScore:50,maxScore:99},3:{minScore:100,maxScore:499},4:{minScore:500,maxScore:1023},5:{minScore:1024,maxScore:4999},6:{minScore:5e3,maxScore:999999999}},Je=function(e){var t=e.level,r=e.reputation,n=(0,i.useMemo)((function(){return Ke[t+1]}),[t]),l=n?r/n.minScore:1;return(0,w.jsxs)("div",{className:"ml-[26px] mt-[10px] text-[12px]",children:[(0,w.jsx)("div",{className:"bg-gray-3 h-[3px] w-[180px] overflow-hidden rounded-[2px] dark:bg-[#424242]",children:(0,w.jsx)("div",{className:M()("h-[3px] w-[180px] overflow-hidden rounded-[2px]",d.Cj.bgBlueStandard),style:{width:"".concat(100*l,"%")}})}),(0,w.jsx)("div",{className:M()("mt-[4px]",d.Cj.labelGrey5),children:n?"\u8ddd\u79bb L".concat(t+1," \u8fd8\u9700 ").concat(n.minScore-r," \u5206"):"\u5df2\u8fbe\u5230\u5f53\u524d\u6700\u9ad8\u58f0\u671b\u7b49\u7ea7"})]})};!function(e){e.POSTVIEW="post_view",e.SOLUTION="solution",e.DISCUSS="discuss",e.REPUTATION="reputation",e.LEVEL="level",e.VIEW="view",e.VOTE="vote",e.FAVORITE="favorite"}(qe||(qe={}));var et,tt=function(e){var t=e.icon,r=e.label,a=e.count,s=e.diff,o=(0,l.useRouter)().locale,c=(0,n.$G)("public-profile").t,u=(0,i.useMemo)((function(){return s>0?(0,w.jsx)("span",{className:d.Cj.labelBlueStandard,children:"+".concat((0,Fe.ZP)(s))}):(0,w.jsx)("span",{className:d.Cj.label4,children:s.toLocaleString(o)})}),[s,o]);return(0,w.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,w.jsxs)("div",{className:"flex items-center space-x-2 text-[14px]",children:[(0,w.jsx)("div",{className:"text-[18px]",children:t}),(0,w.jsx)("div",{className:d.Cj.label2,children:r}),(0,w.jsx)("div",{children:(0,Fe.ZP)(a)})]}),(0,w.jsxs)("div",{className:"ml-7 space-x-1 text-xs ".concat(d.Cj.label3),children:[(0,w.jsx)("span",{children:c("community.lastDay")}),(0,w.jsx)("span",{children:u})]})]})},rt=function(e){var t=e.icon,r=e.label,n=e.level;return(0,w.jsx)("div",{className:"flex flex-col space-y-1",children:(0,w.jsxs)("div",{className:"flex items-center space-x-2 text-[14px]",children:[(0,w.jsx)("div",{className:"text-[18px]",children:t}),(0,w.jsx)("div",{className:d.Cj.label2,children:r}),(0,w.jsx)(Ze.P,{level:n})]})})},nt=function(){return(0,w.jsxs)(Ie.O,{className:"mb-2 flex flex-col space-y-4",children:[(0,w.jsx)(Ge.a,{className:"max-w-[96px]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"})]})},lt=function(){var e,t=(0,l.useRouter)().query.username,r=(0,n.$G)("public-profile").t,a=Object.values(qe),s=new Map,o=(0,Ve.y)(t,{enabled:!0}),c=o.data,u=o.isFetching,p=null===(e=(0,Te.e)(t,{enabled:!0}))||void 0===e?void 0:e.data,m=(0,f.D)(),v=null===p||void 0===p?void 0:p.level;return s=(0,i.useMemo)((function(){return new Map([[qe.LEVEL,{icon:(0,w.jsx)(He,{className:"".concat(d.Cj.labelTeal)}),label:r("community.level"),count:0,diff:0,level:v}],[qe.VIEW,{icon:(0,w.jsx)(Ye,{className:"".concat(d.Cj.labelBlueStandard)}),label:r("community.views"),count:(null===c||void 0===c?void 0:c.viewCount)||0,diff:(null===c||void 0===c?void 0:c.viewCountDiff)||0}],[qe.VOTE,{icon:(0,w.jsx)($e.C,{className:"".concat(d.Cj.labelOlive)}),label:r("community.vote"),count:(null===c||void 0===c?void 0:c.voteCount)||0,diff:(null===c||void 0===c?void 0:c.voteCountDiff)||0}],[qe.FAVORITE,{icon:(0,w.jsx)(Qe.z,{className:"".concat(d.Cj.labelBrandOrange)}),label:r("community.favorite"),count:(null===c||void 0===c?void 0:c.favoriteCount)||0,diff:(null===c||void 0===c?void 0:c.favoriteCountDiff)||0}]])}),[c,v,r]),u?(0,w.jsx)(nt,{}):(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"text-base font-medium leading-6",children:r("community.title")}),(0,w.jsx)("div",{className:"mt-4 flex flex-col space-y-4",children:a.filter((function(e){return s.has(e)})).map((function(e){var t=s.get(e),r=t.icon,n=t.label,l=t.count,i=t.diff,a=t.level;return e===qe.LEVEL?(0,w.jsxs)("div",{children:[(0,w.jsx)(rt,{icon:r,label:n,level:a},e),m&&(0,w.jsx)(Je,{level:a||0,reputation:(null===p||void 0===p?void 0:p.reputation)||0})]},e):(0,w.jsx)(tt,{icon:r,label:n,count:l,diff:i},e)}))})]})},it=function(e){var t=e.className;return(0,w.jsx)("div",{className:M()("border-divider-3 dark:border-dark-divider-3 mb-4 mt-4 h-px w-full border-b",t)})},at=(r(65240),r(62590)),st=r(56609),ot=function(e){return(0,at.Av)(st.K,{userSlug:e},{select:function(e){return e.userLanguageProblemCount?e.userLanguageProblemCount:null}})},ct=r(24975),ut=function(){return(0,w.jsxs)(Ie.O,{className:"mb-2 flex flex-col space-y-4",children:[(0,w.jsx)(Ge.a,{className:"max-w-[96px]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"}),(0,w.jsx)(Ge.a,{className:"max-w-[100%]"})]})},dt=function(e){var t=e.problemsSolved,r=(0,n.$G)("public-profile").t;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:d.Cj.label3,children:r("languages.problemsSolved",{count:t})}),"\xa0 ",(0,w.jsx)("span",{className:M()("text-xs font-medium",d.Cj.label1),children:t})]})},ft=function(){var e=(0,n.$G)("public-profile").t,t=(0,l.useRouter)().query.username,r=i.useState(!1),a=(0,s.Z)(r,2),o=a[0],c=a[1],u=ot(t),f=u.data,p=u.isFetching,m=(0,i.useMemo)((function(){return(f||[]).sort((function(e,t){return t.problemsSolved-e.problemsSolved}))}),[f]),v=(0,i.useMemo)((function(){var e=m;return e=e.slice(0,10),o||(e=m.slice(0,3)),e.map((function(e){var t=e.languageName,r=e.problemsSolved;return(0,w.jsxs)("div",{className:M()("flex items-center justify-between text-xs",d.Cj.label1),children:[(0,w.jsx)("div",{className:"text-xs",children:(0,w.jsx)(ct.V,{color:d.Cj.label2,className:"notranslate",children:t})}),(0,w.jsx)("div",{className:"flex",children:(0,w.jsx)(dt,{problemsSolved:r})})]},t)}))}),[m,o]),x=(0,i.useCallback)((function(){return c(!o),!0}),[o]),h=(0,i.useMemo)((function(){return m.length<=3?null:(0,w.jsx)("div",{className:M()("flex items-center justify-center text-xs",d.Cj.label3),children:(0,w.jsx)("span",{className:"cursor-pointer",onClick:x,children:e(o?"languages.showLess":"languages.showMore")})})}),[o,m.length,x,e]);return p?(0,w.jsx)(ut,{}):f&&0!==m.length?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"text-base font-medium leading-6",children:e("languages.title")}),(0,w.jsxs)("div",{className:"mt-4 flex flex-col space-y-3",children:[v,h]})]}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"text-base font-medium leading-6",children:e("languages.title")}),(0,w.jsx)("div",{className:M()("mt-3 flex items-center justify-center space-y-4 text-xs",d.Cj.label4),children:e(null===f?"languages.calculatingData":"languages.notEnoughData")})]})},pt=(r(36615),r(1308)),mt=r(5291),vt=r.n(mt),xt=r(9982),ht=r.n(xt),jt=r(45366),bt=r.n(jt),gt=r(25207),yt=r(9671),Ot=function(e){var t=e.tags,r=e.limit,n=void 0===r?13:r,l=t.length>n,a=(0,i.useState)(!1),s=a[0],o=a[1],c=s?t:t.slice(0,n),u=(0,i.useCallback)((function(){o((function(e){return!e}))}),[]);return(0,w.jsxs)(gt.Eq,{className:"flex justify-center",space:[8,14],children:[c.map((function(e,t){return(0,w.jsx)("div",{className:M()(yt._,"bg-fill-3 dark:bg-dark-fill-3 max-w-[88px] rounded-lg px-2 py-0.5 text-xs"),children:e},t)})),l&&(0,w.jsx)("div",{className:M()(yt._,"cursor-pointer","bg-fill-3 dark:bg-dark-fill-3 max-w-[88px] rounded-lg px-2 py-0.5 text-xs"),onClick:u,children:s?"\u6536\u8d77":"\u67e5\u770b\u5168\u90e8"})]})};function wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}bt()(vt()),function(e){e.DataStructure="data-structures",e.Design="design",e.Architecture="architecture",e.Algorithm="algorithms"}(et||(et={}));var Ct=[{id:et.DataStructure,y:0},{id:et.Design,y:0},{id:et.Architecture,y:0},{id:et.Algorithm,y:0}],Pt={0:"\u6570\u636e\u7ed3\u6784",90:"\u8bbe\u8ba1",180:"\u57fa\u7840\u67b6\u6784",270:"\u7b97\u6cd5",360:"\u6570\u636e\u7ed3\u6784"},kt=function(){var e=this.value;return Pt[e]},St=function(){var e="".concat(this.y,"%");return'<span style="font-size: 12px; color: #2DB55D">'.concat(e,"</span>")},Dt=function(){var e,t,r=(0,n.$G)("public-profile").t,a=(0,l.useRouter)().query.username,s=null===(e=(0,x.i)(a).data)||void 0===e||null===(t=e.userProfilePublicProfile)||void 0===t?void 0:t.profile.skillSet,o="dark"===(0,pt.F)().theme,c=(0,i.useMemo)((function(){return Ct.map((function(e){var t=null===s||void 0===s?void 0:s.topicAreaScores.find((function(t){return t.topicArea.slug===e.id}));return Nt(Nt({},e),{},{y:t?t.score:0})}))}),[null===s||void 0===s?void 0:s.topicAreaScores]),u=(0,i.useMemo)((function(){var e;return null!==(e=null===s||void 0===s?void 0:s.topics.map((function(e){var t=e.translatedName,r=e.name;return null!==t&&void 0!==t?t:r})))&&void 0!==e?e:[]}),[null===s||void 0===s?void 0:s.topics]),d=(0,i.useMemo)((function(){return{chart:{polar:!0,height:"150px",backgroundColor:"transparent"},credits:{enabled:!1},title:{text:void 0},pane:{background:[{backgroundColor:o?"#2DB55D40":"#2DB55D26",outerRadius:"100%",borderWidth:0}],startAngle:0,endAngle:360,size:"100px"},xAxis:{tickInterval:90,min:0,max:360,labels:{formatter:kt,distance:10,style:{color:o?"#EFF2F69A":"#3C3C439A"}},gridLineColor:o?"#2CBB5D80":"#2DB55D4d",lineWidth:0},yAxis:{min:0,max:100,labels:{enabled:!1},gridLineWidth:0},plotOptions:{series:{pointStart:0,pointInterval:90,states:{hover:{halo:{size:0},lineWidth:1,lineWidthPlus:0}}}},series:[{type:"area",data:c,showInLegend:!1,fillColor:o?"#2DB55D40":"#2DB55D26",lineColor:"#2DB55D",lineWidth:1,color:"#2DB55D",marker:{enabled:!1,lineWidth:1,radius:1,lineColor:"#2DB55D",fillColor:o?"#000":"#FFF"}}],tooltip:{animation:!1,backgroundColor:o?"#000":"#FFF",shadow:!1,borderWidth:0,borderRadius:5,formatter:St,hideDelay:0}}}),[c,o]);return(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"text-base font-medium leading-6",children:r("skills.title")}),(0,w.jsx)("div",{className:"mt-4 flex flex-col space-y-4",children:(0,w.jsx)(ht(),{highcharts:vt(),options:d})}),(0,w.jsx)("div",{className:"my-4",children:(0,w.jsx)(Ot,{tags:u})})]})},Et=r(1222);function Mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Lt=function(e){return(0,w.jsx)(Et.Z,At(At({},e),{},{borderType:Et.L.DROPDOWN}))},_t=(0,w.jsx)(Dt,{}),Rt=function(){return(0,w.jsx)("div",{children:(0,w.jsxs)(Lt,{className:"lc-lg:w-[300px] flex w-full min-w-[300px] flex-col px-4 pt-[21px]",children:[(0,w.jsx)(Be,{}),(0,w.jsx)(it,{className:"mt-2.5"}),(0,w.jsx)(lt,{}),(0,w.jsx)(it,{}),(0,w.jsx)(ft,{}),(0,w.jsx)(it,{}),_t]})})},Bt=function(e){return(0,at.mH)(st.K,{userSlug:e},{select:function(e){var t,r,n,l,i,a,s=e.userContestRanking,o=e.userContestRankingHistory;return{userContestRanking:{globalRanking:null!==(t=null===s||void 0===s?void 0:s.globalRanking)&&void 0!==t?t:0,rating:null!==(r=null===s||void 0===s?void 0:s.rating)&&void 0!==r?r:0,totalParticipants:null!==(n=null===s||void 0===s?void 0:s.globalTotalParticipants)&&void 0!==n?n:0,topPercentage:null!==(l=null===s||void 0===s?void 0:s.topPercentage)&&void 0!==l?l:100,attendedContestsCount:null!==(i=null===s||void 0===s?void 0:s.attendedContestsCount)&&void 0!==i?i:0,badge:{name:""}},userContestRankingHistory:null!==(a=null===o||void 0===o?void 0:o.map((function(e){return{attended:e.attended,trendDirection:e.trendingDirection||void 0,totalProblems:e.totalProblems,problemsSolved:e.score,finishTimeInSeconds:e.finishTimeInSeconds,rating:e.rating,ranking:e.ranking,contest:{title:e.contest.titleCn||e.contest.title||"",startTime:e.contest.startTime}}})))&&void 0!==a?a:[]}}})};function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var It,Gt=function(e,t){return(0,ge.tQ)(ye.a,{userSlug:e,verb:ge.X7.SubmitCode},Zt(Zt({},t),{},{select:function(e){if(!e.activityConfig)return!0;var t=e.activityConfig.filter((function(e){return e.verb===ge.X7.SubmitCode}));return!(t.length>0)||t[0].allowDisplay}}))},Vt=(r(91023),r(46623)),Tt=r(58358),Ut=r(35292),Xt=r(39463),Ht=r(59970),zt=r(63282),Wt=function(){return(0,w.jsx)(Lt,{className:"h-[185px] space-y-4 p-4 pb-4",children:(0,w.jsxs)(Ie.O,{className:"flex h-full w-full flex-col justify-between",children:[(0,w.jsxs)("div",{className:"flex w-full flex-row",children:[(0,w.jsx)(Ge.a,{className:"w-[120px]"}),(0,w.jsx)(Ge.a,{className:"ml-auto mr-4 w-10"}),(0,w.jsx)(Ge.a,{className:"w-10"})]}),(0,w.jsx)(Ge.a,{className:"w-full"}),(0,w.jsx)(Ge.a,{className:"w-full"}),(0,w.jsx)(Ge.a,{className:"w-full"}),(0,w.jsxs)("div",{className:"flex w-full flex-row justify-between",children:[(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"w-9"}),(0,w.jsx)(Ge.a,{className:"lc-xl:flex hidden w-9"}),(0,w.jsx)(Ge.a,{className:"lc-xl:flex hidden w-9"}),(0,w.jsx)(Ge.a,{className:"lc-xl:flex hidden w-9"}),(0,w.jsx)(Ge.a,{className:"lc-xl:flex hidden w-9"}),(0,w.jsx)(Ge.a,{className:"lc-xl:flex hidden w-9"})]})]})})},qt=function(e){var t=e.selectedOption,r=e.locale,l=e.totalSub,i=e.startDate,a=(0,n.$G)("public-profile").t;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:"lc-md:text-base whitespace-nowrap ".concat(d.Cj.label2),children:null===t?a("submissionHeatMap.submission"):a("submissionHeatMap.submissionInYear",{year:i.year()})}),(0,w.jsx)("span",{className:"lc-md:text-xl ml-[5px] text-base font-medium",children:l.toLocaleString(r)}),(0,w.jsx)("span",{className:"ml-[5px]",children:"\u6b21"})]})},Yt=function(e){var t=(0,l.useRouter)(),r=t.locale,a=t.query.username,s=e.showSubmission,o=(0,i.useRef)(null),c=(0,Xt.X)(),u=(0,i.useState)(null),f=u[0],p=u[1],m=(0,i.useMemo)((function(){return null===f?zt.B.utc().subtract(1,"year"):zt.B.utc("".concat((0,zt.B)().year(),"-1-1")).subtract(zt.B.utc().year()-f,"year")}),[f]),v=(0,i.useMemo)((function(){return null===f?zt.B.utc():zt.B.utc("".concat((0,zt.B)().year(),"-1-1")).subtract(zt.B.utc().year()-f-1,"year").subtract(1,"day")}),[f]),x=(0,Ut.Z)(a,null===f?void 0:m.year(),{enabled:s}),h=x.data,j=x.isFetching,b=(0,n.$G)("public-profile").t,g=(0,Ht.i)(),y=(0,i.useState)(800),O=y[0],N=y[1];(0,i.useEffect)((function(){N(o.current?o.current.offsetWidth:800)}),[g.width]);var C=(0,i.useMemo)((function(){var e=null===h||void 0===h?void 0:h.dccBadges,t=new Map;return e?new Map(null===e||void 0===e?void 0:e.filter((function(e){return!!e})).map((function(e){var t=e,r=t.badge,n=t.timestamp,l=parseInt(zt.B.utc(1e3*n).format("M"),10)-1;return["".concat(zt.B.utc(1e3*n).format("YYYY"),"-").concat(l),r.icon]}))):t}),[null===h||void 0===h?void 0:h.dccBadges]),P=(0,i.useMemo)((function(){return h?JSON.parse(h.submissionCalendar):{}}),[h]),k=(0,i.useMemo)((function(){var e=0,t=Object.keys(P).map((function(t){var r=zt.B.utc(1e3*parseInt(t,10));return r>=m&&r<=v&&(e+=P[t]),{date:r,count:P[t]||0}}));return[e,t]}),[P,m,v]),S=k[0],D=k[1],E=i.useMemo((function(){var e=((null===h||void 0===h?void 0:h.activeYears)||[]).filter((function(e){return(0,zt.B)().utc().year()!==e}));return[{value:null,text:b("submissionHeatMap.timePeriod.current")}].concat((0,je.Z)(e.map((function(e){return{value:e,text:String(e)}}))))}),[b,h]),A=i.useCallback((function(e){return p(e.value?Number(e.value):null)}),[p]);if(j)return(0,w.jsx)(Wt,{});return(0,w.jsxs)(Lt,{className:"lc-md:pb-4 flex h-auto flex-col space-y-4 p-4 pb-0",children:[(0,w.jsxs)("div",{className:"lc-md:flex-row lc-md:items-center lc-md:space-y-0 flex flex-col flex-wrap space-y-2",children:[(0,w.jsx)("div",{className:"flex flex-1 items-center",children:(0,w.jsx)(qt,{totalSub:S,locale:r,startDate:m,selectedOption:f})}),(0,w.jsxs)("div",{className:"flex items-center text-xs",children:[(0,w.jsxs)("div",{className:"mr-4.5 space-x-1",children:[(0,w.jsxs)("span",{className:d.Cj.label3,children:[b("submissionHeatMap.totalActiveDays"),":"]}),(0,w.jsx)("span",{className:"font-medium ".concat(d.Cj.label2),children:((null===h||void 0===h?void 0:h.totalActiveDays)||0).toLocaleString(r)})]}),(0,w.jsxs)("div",{className:"space-x-1",children:[(0,w.jsxs)("span",{className:d.Cj.label3,children:[b("submissionHeatMap.maxStreak"),":"]}),(0,w.jsx)("span",{className:"font-medium ".concat(d.Cj.label2),children:((null===h||void 0===h?void 0:h.streak)||0).toLocaleString(r)})]}),E.length>1&&(0,w.jsx)("div",{className:"ml-[21px]",children:(0,w.jsx)(Vt.P,{options:E,selected:E.find((function(e){return e.value===f})),setSelected:A,dropdownClassName:M()("right-0 mt-2",d.eq.dropdown),optionClassName:M()(d.Cj.label2,d.Cj.label1Hover),selectedClassName:(d.Cj.label1,"font-medium"),activeClassName:d.Cj.fill3,iconClassName:"w-4 h-4"})})]})]}),(0,w.jsx)("div",{className:"lc-md:flex hidden h-auto w-full flex-1 items-center justify-center",ref:o,children:(0,w.jsx)(Tt.c,{data:D,startDate:m,endDate:v,textMap:C,theme:c,width:O,separateMonths:true})}),(0,w.jsx)("div",{className:"lc-md:hidden flex h-auto w-full flex-1 items-center overflow-x-auto overflow-y-visible",children:(0,w.jsx)("div",{className:"pb-4",children:(0,w.jsx)(Tt.c,{data:D,startDate:m,endDate:v,textMap:C,theme:c,width:800,separateMonths:true})})})]})},$t=(r(7502),r(17728)),Qt=r(44303),Kt=r(23992),Jt=r(6120),er=r(11288);!function(e){e.ALL="ALL",e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD"}(It||(It={}));var tr,rr,nr,lr=function(e){var t=(0,me.QUM)(er.f6,{userSlug:e}).data;return(0,at.E4)(st.K,{userSlug:e},{select:function(e){if(t&&t.userProfileUserQuestionProgress&&e&&e.problemsSolvedBeatsStats){var r=t.userProfileUserQuestionProgress,n=r.numAcceptedQuestions,l=r.numFailedQuestions,i=r.numUntouchedQuestions,a=function(e){var t=new Map;return e.forEach((function(e){return t.set(e.difficulty.toUpperCase(),e.count)})),t},s=a(n),o=n.reduce((function(e,t){return e+t.count}),0),c=a(l),u=a(i),d=s.get("EASY")+c.get("EASY")+u.get("EASY"),f=s.get("MEDIUM")+c.get("MEDIUM")+u.get("MEDIUM"),p=s.get("HARD")+c.get("HARD")+u.get("HARD"),m={EASY:d,MEDIUM:f,HARD:p,ALL:d+f+p},v={};return e.problemsSolvedBeatsStats.map((function(e){v[e.difficulty]=e.percentage})),[It.ALL,It.EASY,It.MEDIUM,It.HARD].map((function(e){return{difficulty:e===It.ALL?"TOTAL":e,count:e===It.ALL?o:s.get(e)||0,total:m[e],beatsPercentage:v[e]||0}}))}return[]}})},ir=92*Math.PI,ar=i.memo((function(e){var t=e.solved,r=(0,n.$G)("public-profile").t,l=(0,i.useState)(!1),a=l[0],s=l[1],o=(0,i.useRef)(null),c=(0,i.useMemo)((function(){return((null===t||void 0===t?void 0:t.count)||0)/((null===t||void 0===t?void 0:t.total)||1)}),[t]),u=(0,i.useMemo)((function(){return(0,$t.Z)(c)?(100*c).toFixed(1).split("."):[void 0,void 0]}),[c]),f=u[0],p=u[1],m="100"===f||"0"===f&&"0"===p,v=(0,i.useCallback)((function(){return s(!0)}),[]),x=(0,i.useCallback)((function(){return s(!1)}),[]),h=(0,i.useMemo)((function(){var e=ir*c;return[{percentage:c,difficulty:"ALL",strokeDasharray:"".concat(e," ").concat(ir-e),strokeDashoffset:-0}]}),[c]);return(0,w.jsxs)("div",{ref:o,className:M()("shrink-1 z-base relative max-h-[100px] max-w-[100px]"),onMouseEnter:v,onMouseLeave:x,children:[(0,w.jsxs)("svg",{className:"h-full w-full origin-center -rotate-90 transform",viewBox:"0 0 ".concat(Kt.YS," ").concat(Kt.YS),children:[(0,w.jsx)(Kt.Dy,{className:"text-gray-4 dark:text-dark-gray-4 w-[100px]",r:46}),(0,je.Z)(h).map((function(e){var t=e.difficulty,r=e.strokeDasharray,n=e.strokeDashoffset;return(0,w.jsx)(Kt.dc,{difficulty:t,strokeDasharray:r,strokeDashoffset:n,difficultyStrokeWidth:5,"data-difficulty":t,isActive:!1,r:46,className:"drop-shadow-[0_2px_4px_rgba(255,161,22,0.2)]"},t)}))]}),(0,w.jsx)("div",{className:M()("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform cursor-default text-center"),children:(0,w.jsx)(w.Fragment,{children:a&&void 0!==f&&void 0!==p?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("span",{className:"text-[24px] font-medium",children:f}),(0,w.jsx)("span",{className:"text-xs font-medium",children:m?"%":".".concat(p,"%")})]}),(0,w.jsx)("div",{className:M()("whitespace-nowrap text-xs",d.Cj.label3),children:r("problemsSolved.solved")})]}):(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:M()("text-[24px] font-medium",d.Cj.label1),children:t.count}),(0,w.jsx)("div",{className:M()("whitespace-nowrap text-xs",d.Cj.label3),children:r("problemsSolved.solved")})]})})})]})})),sr=function(e){var t=e.solved,r=(0,i.useMemo)((function(){return((null===t||void 0===t?void 0:t.count)||0)/((null===t||void 0===t?void 0:t.total)||1)}),[t]),l=(0,i.useMemo)((function(){if(!(0,$t.Z)(t.beatsPercentage))return[void 0,void 0];var e=Math.min(t.beatsPercentage,100);return e>=99.9&&e<100?e.toFixed(2).split("."):e.toFixed(1).split(".")}),[t.beatsPercentage]),a=l[0],s=l[1],o=(0,n.$G)("public-profile").t,c=(0,n.$G)("common",{keyPrefix:"difficulty"}).t;return(0,w.jsxs)("div",{className:"space-y-2",children:[(0,w.jsxs)("div",{className:"flex w-full items-end text-xs",children:[(0,w.jsx)("div",{className:M()("w-[53px]",d.Cj.label3),children:c(t.difficulty.toLowerCase())}),(0,w.jsxs)("div",{className:"flex flex-1 items-center",children:[(0,w.jsx)("span",{className:M()("mr-[5px] text-base font-medium leading-[20px]",d.Cj.label1),children:t.count}),(0,w.jsxs)("span",{className:M()("text-xs font-medium",d.Cj.label4),children:["/",t.total]})]}),(0,w.jsx)("div",{className:M()("lc-lg:hidden lc-xl:inline",d.Cj.label3),children:t.beatsPercentage?(0,w.jsxs)("span",{className:"space-x-1.5",children:[(0,w.jsx)("span",{children:o("problemsSolved.beats")}),(0,w.jsxs)("span",{className:M()("font-medium",d.Cj.label2),children:[a,".",s,"%"]})]}):(0,w.jsx)("span",{className:d.Cj.label4,children:o("problemsSolved.notEnoughData")})})]}),(0,w.jsx)(Qt.E,{percentage:100*r,className:"h-1 max-w-none",color:M()({green:t.difficulty===Jt.Fd.Easy,yellow:t.difficulty===Jt.Fd.Medium,darkRed:t.difficulty===Jt.Fd.Hard}),backgroundColor:M()({lightGreen:t.difficulty===Jt.Fd.Easy,lightYellow:t.difficulty===Jt.Fd.Medium,lightRed:t.difficulty===Jt.Fd.Hard})})]})},or=function(){return(0,w.jsx)(Lt,{className:"lc-xl:h-[186px] min-h-[186px] w-full pb-3 pt-4",children:(0,w.jsxs)(Ie.O,{className:"flex flex-col",children:[(0,w.jsx)(Ge.a,{className:"mx-[13px] max-w-[96px]"}),(0,w.jsxs)("div",{className:"lc-xl:mx-8 mx-3 flex flex-row",children:[(0,w.jsx)(Ge.a,{className:"mr-8 mt-6 h-[100px] w-[100px] shrink-0"}),(0,w.jsxs)("div",{className:"flex w-full flex-col justify-center space-y-4",children:[(0,w.jsx)(Ge.a,{className:"w-[100%]"}),(0,w.jsx)(Ge.a,{className:"w-[100%]"}),(0,w.jsx)(Ge.a,{className:"w-[100%]"})]})]})]})})},cr=function(){var e=(0,n.$G)("public-profile").t,t=(0,l.useRouter)().query.username,r=lr(t),i=r.data,a=r.isFetching,s=i||[],o=s.find((function(e){return"TOTAL"===e.difficulty})),c=s.filter((function(e){return"TOTAL"!==e.difficulty}));return a?(0,w.jsx)(or,{}):(0,w.jsxs)(Lt,{className:"lc-xl:h-[186px] min-h-[186px] w-full pb-3 pt-4",children:[(0,w.jsx)("div",{className:M()("px-[13px] text-xs font-medium",d.Cj.label3),children:e("problemsSolved.solvedProblems")}),(0,w.jsxs)("div",{className:"lc-xl:mx-8 mx-3 flex items-center",children:[o&&(0,w.jsx)("div",{className:"mr-8 mt-6 flex min-w-[100px] justify-center",children:(0,w.jsx)(ar,{solved:o})}),(0,w.jsx)("div",{className:"lc-xl:max-w-[228px] flex w-full flex-col space-y-4",children:c.map((function(e){return(0,w.jsx)(sr,{solved:e},e.difficulty)}))})]})]})};!function(e){e.MostPosts="most_posts",e.MostRelevant="most_relevant",e.MostVotes="most_votes",e.NewestToOldest="newest_to_oldest",e.OldestToNewest="oldest_to_newest",e.RecentActivity="recent_activity"}(tr||(tr={})),function(e){e.COMPETITION="COMPETITION",e.DCC="DCC",e.ANNUAL="ANNUAL",e.STUDY_PLAN="STUDY_PLAN"}(rr||(rr={})),function(e){e.Down="DOWN",e.None="NONE",e.Up="UP"}(nr||(nr={}));var ur=r(22565),dr=r(28567),fr=r(84071),pr=r(25533);function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xr=i.forwardRef((function(e,t){return(0,w.jsx)("svg",vr(vr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:(0,w.jsx)("path",{fillRule:"evenodd",d:"M7.19 1.564a.75.75 0 01.729.069c2.137 1.475 3.373 3.558 3.981 5.002l.641-.663a.75.75 0 011.17.115c1.633 2.536 1.659 5.537.391 7.725-1.322 2.282-3.915 2.688-5.119 2.688-1.177 0-3.679-.203-5.12-2.688-.623-1.076-.951-2.29-.842-3.528.109-1.245.656-2.463 1.697-3.54.646-.67 1.129-1.592 1.468-2.492.337-.895.51-1.709.564-2.105a.75.75 0 01.44-.583zm.784 2.023c-.1.368-.226.773-.385 1.193-.375.997-.947 2.13-1.792 3.005-.821.851-1.205 1.754-1.282 2.63-.078.884.153 1.792.647 2.645C6.176 14.81 7.925 15 8.983 15c1.03 0 2.909-.366 3.822-1.94.839-1.449.97-3.446.11-5.315l-.785.812a.75.75 0 01-1.268-.345c-.192-.794-1.04-2.948-2.888-4.625z",clipRule:"evenodd"})}))})),hr=r(21011),jr=r(59006),br=r(78559);var gr=function(e){var t=e.elements,r=e.refs,n=e.parentRef,l=e.fallbackElement,a=(0,i.useState)(0),s=a[0],o=a[1],c=n&&n.current?n.current:null,u=(0,jr.jU)()?window.document.body:null,d=(0,hr.a)(c||u).width;return(0,br.L)((function(){o(0)}),[d]),(0,br.L)((function(){var e=r[s];if(null!==e&&void 0!==e&&e.current&&function(e){return e.scrollWidth>e.clientWidth}(e.current))o(s+1);else{var t=null===e||void 0===e?void 0:e.current;t&&(t.style.overflowX="hidden")}}),[d,s,r]),t[s]||l||null},yr=r(19759),Or=function(e){var t,r=e.icon,n=e.onClick,l=e.active;return(0,w.jsx)("div",{onClick:n,className:M()((0,I.Z)({},"".concat(d.Cj.label1),l),"flex cursor-pointer items-center space-x-2"),children:(0,w.jsx)("span",{className:M()("group-hover:text-gray-8 dark:group-hover:text-dark-gray-8 text-base",(t={},(0,I.Z)(t,d.Cj.labelGrey8,l),(0,I.Z)(t,d.Cj.labelGrey6,!l),t)),children:r})})},wr=function(e){var t,r,n=e.shortLabel,l=e.icon,i=e.onClick,a=e.active;return(0,w.jsxs)("div",{onClick:i,className:M()((0,I.Z)({},"".concat(d.Cj.label1),a),"flex cursor-pointer items-center space-x-2"),children:[(0,w.jsx)("span",{className:M()("group-hover:text-gray-8 dark:group-hover:text-dark-gray-8 text-base",(t={},(0,I.Z)(t,d.Cj.labelGrey8,a),(0,I.Z)(t,d.Cj.labelGrey6,!a),t)),children:l}),(0,w.jsx)("span",{className:M()("group-hover:text-label-1 dark:group-hover:text-dark-label-1 text-xs",(r={},(0,I.Z)(r,d.Cj.label1,a),(0,I.Z)(r,d.Cj.label3,!a),r)),children:n})]})},Nr=function(e){var t,r,n=e.longLabel,l=e.icon,i=e.onClick,a=e.active;return(0,w.jsxs)("div",{onClick:i,className:M()((0,I.Z)({},"".concat(d.Cj.label1),a),"flex cursor-pointer items-center space-x-2"),children:[(0,w.jsx)("span",{className:M()("group-hover:text-gray-8 dark:group-hover:text-dark-gray-8 text-base",(t={},(0,I.Z)(t,d.Cj.labelGrey8,a),(0,I.Z)(t,d.Cj.labelGrey6,!a),t)),children:l}),(0,w.jsx)("span",{className:M()("group-hover:text-label-1 dark:group-hover:text-dark-label-1 text-xs",(r={},(0,I.Z)(r,d.Cj.label1,a),(0,I.Z)(r,d.Cj.label3,!a),r)),children:n})]})},Cr=function(e){var t=e.activeSortBy,r=e.setActiveSortBy,l=e.show,a=(0,n.$G)("public-profile").t,s=(0,i.useMemo)((function(){return new Map([[tr.NewestToOldest,{longLabel:a("recentsList.mostRecent"),shortLabel:a("recentsList.recent"),icon:(0,w.jsx)(pr.j,{}),onClick:function(){return r(tr.NewestToOldest)}}],[tr.MostVotes,{longLabel:a("recentsList.mostVotes"),shortLabel:a("recentsList.votes"),icon:(0,w.jsx)(xr,{}),onClick:function(){return r(tr.MostVotes)}}]])}),[a,r]),o=(0,i.useMemo)((function(){return Array.from(s.keys())}),[s]),c=[Nr,wr,Or],u=c.map((function(){return i.createRef()}));return(0,w.jsx)(gr,{refs:u,elements:c.map((function(e,r){return(0,w.jsx)("div",{ref:u[r],className:M()("ml-auto flex items-center overflow-auto whitespace-nowrap",{hidden:!l}),children:o.map((function(r,n){var l=s.get(r);return l?(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)("div",{className:"group ml-4 inline-block items-center space-x-4",children:(0,w.jsx)(e,{longLabel:l.longLabel,shortLabel:l.shortLabel,icon:l.icon,onClick:null===l||void 0===l?void 0:l.onClick,active:r===t})}),n<o.length-1&&(0,w.jsx)(yr.i,{orientation:"vertical",className:"bg-gray-3 dark:bg-dark-gray-3 ml-4 inline-block h-3"})]},r):null}))},r)}))})};function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sr,Dr="",Er=function(e){var t={userSlug:e},r=function(e){return"/circle/discuss/".concat(e)};return(0,be.N)(["getUserDiscussTopics",{userSlug:e}],(function(e){var n=e.pageParam,l=void 0===n?t:n;return er.f6.request(me.mOJ,l).then((function(e){if(!e.columnsPublishedContents)return[];var t=!!e.columnsPublishedContents.nextToken;return Dr=e.columnsPublishedContents.nextToken||"",e.columnsPublishedContents.nodes.map((function(e){var n,l;return function(e){return"topic"in e}(e)?{id:(null===e||void 0===e?void 0:e.uuid)||"",title:e.title||"",url:(l=e.uuid,"/circle/article/".concat(l)),viewCount:(null===(n=e.topic)||void 0===n?void 0:n.viewCount)||0,creationDate:new Date(e.createdAt).getTime(),voteCount:e.upvoteCount,hasNextPage:t,status:e.status}:function(e){return"hitCount"in e}(e)?{id:(null===e||void 0===e?void 0:e.uuid)||"",title:(null===e||void 0===e?void 0:e.title)||"",url:r(e.uuid),viewCount:e.hitCount,creationDate:new Date(e.createdAt).getTime(),voteCount:e.upvoteCount,hasNextPage:t,status:e.status}:{id:"",title:"",url:"",viewCount:0,creationDate:0,voteCount:0,hasNextPage:t}}))}))}),{getNextPageParam:function(){return!!Dr&&kr(kr({},t),{},{nextToken:Dr})}})},Mr=r(93141),Ar=r(11148),Lr=r(3587),_r=r(91799),Rr=r(57344),Br=r(72467),Fr=r(92369),Zr=function(e){var t=e.keyPrefix;return(0,w.jsx)("div",{children:(0,Fr.Z)(5).map((function(e){return(0,w.jsx)("div",{className:M()("flex h-14 items-center px-4",(0,I.Z)({},d.Cj.fill4,e%2===0)),children:(0,w.jsxs)(Ie.O,{className:"flex w-full space-x-4",children:[(0,w.jsx)(Ge.a,{className:"w-[242px] max-w-[50%]"}),(0,w.jsx)(Ge.a,{className:"w-[242px] max-w-[50%]"})]})},"".concat(t,"_").concat(e))}))})};!function(e){e.RECENT_AC="RECENT_AC",e.SOLUTIONS="SOLUTIONS",e.DISCUSS="DISCUSS"}(Sr||(Sr={}));var Ir=function(e){e["data-tab"]===Sr.SOLUTIONS?de.a.profileProfileAnswerClick({profile_solution_url:e["data-url"]}):e["data-tab"]===Sr.DISCUSS&&de.a.profileProfileDiscussClick({profile_discuss_url:e["data-url"]})},Gr=function(e){e["data-tab"]===Sr.SOLUTIONS?de.a.profileProfileAnswerExposure({profile_solution_url:e["data-url"]}):e["data-tab"]===Sr.DISCUSS&&de.a.profileProfileDiscussExposure({profile_discuss_url:e["data-url"]})},Vr=(0,Rr.b)((0,Br.F)("a",Ir),Gr),Tr=function(e){var t=e.icon,r=e.label,n=e.width;return(0,w.jsxs)("div",{style:{width:"".concat(n,"px")},className:"flex items-center space-x-1",children:[(0,w.jsx)("span",{children:t}),(0,w.jsx)("span",{children:r})]})},Ur=function(e){var t=e.topic,r=e.voteCountWidth,n=e.viewCountWidth;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:M()("mr-4.5 flex flex-1 justify-between space-x-[10px]"),children:(0,w.jsxs)("span",{className:M()(d.Cj.label1,"line-clamp-1 font-medium"),children:[t.title,((null===t||void 0===t?void 0:t.status)===me.af_.Checking||(null===t||void 0===t?void 0:t.status)===me.af_.Pending)&&(0,w.jsx)(ct.V,{className:"ml-[5px] cursor-default",children:"\u5ba1\u6838\u4e2d"}),(null===t||void 0===t?void 0:t.status)===me.af_.Offline&&(0,w.jsxs)(ct.V,{className:M()(" text-red-3 ml-[5px] cursor-default bg-[#ffefef]"),children:[(0,w.jsx)(Mr.L,{className:"mr-[4px]"}),"\u5ba1\u6838\u672a\u901a\u8fc7"]})]})}),(0,w.jsxs)("div",{className:M()("space-x-4.5 lc-md:flex hidden items-center",d.Cj.label3),children:[(0,w.jsx)(Tr,{icon:(0,w.jsx)(Ar.h,{}),label:"".concat((0,Fe.ZP)(t.voteCount)),width:r}),(0,w.jsx)(Tr,{icon:(0,w.jsx)(Lr.t,{}),label:"".concat((0,Fe.ZP)(t.viewCount)),width:n}),(0,w.jsx)("span",{className:M()(d.Cj.label3,"lc-md:inline hidden min-w-[56px] whitespace-nowrap"),children:(0,zt.B)(t.creationDate).fromNow()})]})]})},Xr=function(e){return 14+10*e},Hr=function(e){var t=e.topics,r=e.tab,l=e.isLoading,a=e.onShowMoreClick,s=e.canShowMore,o=(0,n.$G)("public-profile").t,c=(0,i.useMemo)((function(){return Xr((0,Fe.ZP)(Math.max.apply(Math,[0].concat((0,je.Z)(t.map((function(e){return e.viewCount})))))).length)}),[t]),u=(0,i.useMemo)((function(){return Xr((0,Fe.ZP)(Math.max.apply(Math,[0].concat((0,je.Z)(t.map((function(e){return e.voteCount})))))).length)}),[t]);return(0,w.jsxs)("div",{children:[t.length?t.map((function(e,t){return(0,w.jsx)(L(),{href:e.url,passHref:!0,children:(0,w.jsx)(Vr,{className:M()("flex h-[56px] items-center rounded pl-4 pr-5",(0,I.Z)({},d.Cj.fill4,t%2===0)),target:"_blank","data-url":e.url,"data-tab":r,children:(0,w.jsx)(Ur,{topic:e,viewCountWidth:c,voteCountWidth:u})})},e.id)})):(0,w.jsx)("div",{className:"mb-[70px] mt-[57px] flex-1",children:(0,w.jsx)(_r.F,{text:r===Sr.SOLUTIONS?o("recentsList.noSolution"):o("recentsList.noDiscuss")})}),l?(0,w.jsx)(Zr,{keyPrefix:"topic-list"}):(0,w.jsx)(ke,{show:s,onClick:a})]})},zr=function(e){var t=e.sortBy,r=(0,l.useRouter)().query.username,n=Er(r,t),a=(0,i.useCallback)((function(){n.fetchNextPage()}),[n]),s=n.data,o=n.isFetching,c=n.hasNextPage,u=(0,i.useMemo)((function(){return null===s||void 0===s?void 0:s.pages.reduce((function(e,t){return[].concat((0,je.Z)(e),(0,je.Z)(t))}),[])}),[s]);return(0,w.jsx)(Hr,{topics:u||[],tab:Sr.DISCUSS,isLoading:o,onShowMoreClick:a,canShowMore:!!c})};function Wr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Yr=function(e){var t={userSlug:e,skip:0,first:Oe};return(0,be.N)(["userSolutionTopics",{userSlug:e,first:Oe}],(function(e){var r=e.pageParam,n=void 0===r?t:r;return er.f6.request(me.auP,n).then((function(e){if(!e.solutionArticles)return[];var t=e.solutionArticles.pageInfo.hasNextPage;return e.solutionArticles.edges.map((function(e){var r,n,l,i,a,s=null===e||void 0===e?void 0:e.node;return{id:(null===s||void 0===s?void 0:s.slug)||"",title:(null===s||void 0===s?void 0:s.title)||"",url:(i=(null===s||void 0===s?void 0:s.slug)||"",a=(null===s||void 0===s?void 0:s.question.titleSlug)||"","/problems/".concat(a,"/solution/").concat(i)),viewCount:(null===s||void 0===s||null===(r=s.topic)||void 0===r?void 0:r.viewCount)||0,questionTitle:(n=(null===s||void 0===s?void 0:s.question.translatedTitle)||"",l=(null===s||void 0===s?void 0:s.question.questionFrontendId)||"","".concat(l,". ").concat(n)),creationDate:new Date((null===s||void 0===s?void 0:s.createdAt)||"").getTime(),voteCount:(null===s||void 0===s?void 0:s.upvoteCount)||0,hasNextPage:t,status:null===s||void 0===s?void 0:s.status}}))}))}),{getNextPageParam:function(e,r){var n;return null!==(n=e[e.length-1])&&void 0!==n&&n.hasNextPage?qr(qr({},t),{},{skip:r.length*Oe}):void 0}})};function $r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$r(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kr=function(e){var t=e.sortBy,r=(0,l.useRouter)().query.username,n=Yr(r,t),a=(0,i.useCallback)((function(){n.fetchNextPage()}),[n]),s=n.data,o=n.isFetching,c=n.hasNextPage,u=(0,i.useMemo)((function(){return null===s||void 0===s?void 0:s.pages.reduce((function(e,t){return[].concat((0,je.Z)(e),(0,je.Z)(t))}),[]).map((function(e){return Qr(Qr({},e),{},{title:e.questionTitle?"".concat(e.questionTitle," - ").concat(e.title):e.title})}))}),[s]);return(0,w.jsx)(Hr,{topics:u||[],tab:Sr.SOLUTIONS,isLoading:o,onShowMoreClick:a,canShowMore:!!c})};r(72793);var Jr,en=function(e){return(0,at.nY)(st.K,{userSlug:e},{select:function(e){return e.recentACSubmissions?e.recentACSubmissions.map((function(e){var t,r,n;return{id:(null===(t=e.submissionId)||void 0===t?void 0:t.toString())||"",title:(r=e.question.questionFrontendId,n=e.question.translatedTitle||e.question.title||"","".concat(r,". ").concat(n)),titleSlug:e.question.titleSlug||"",timestamp:1e3*e.submitTime}})):[]}})},tn=function(e){de.a.profileProfileRecentlyPassedProblemClick({profile_question:e["data-title"]})},rn=function(e){de.a.profileProfileRecentlyPassedProblemExposure({profile_question:e["data-title"]})},nn=(0,Rr.b)((0,Br.F)("div",tn),rn),ln=function(e){var t=e.submissions,r=e.isLoading,l=(0,n.$G)("public-profile").t;if(r)return(0,w.jsx)(Zr,{keyPrefix:"submission-list"});var i=t.filter((function(e){return e.id}));return(0,w.jsx)("div",{className:"flex flex-col",children:i.length?i.map((function(e,t){return(0,w.jsx)(L(),{href:m.Hb.submissionDetail(e.id),passHref:!0,children:(0,w.jsx)("a",{className:M()("flex h-[56px] items-center rounded px-4",(0,I.Z)({},d.Cj.fill4,t%2===0)),target:"_blank",children:(0,w.jsxs)(nn,{"data-title":e.title,className:"flex flex-1 justify-between",children:[(0,w.jsx)("span",{className:M()(d.Cj.label1,"line-clamp-1 font-medium"),children:e.title}),(0,w.jsx)("span",{className:M()(d.Cj.label3,"lc-md:inline hidden whitespace-nowrap"),children:(0,zt.B)(e.timestamp).fromNow()})]})})},e.id)})):(0,w.jsx)("div",{className:"mb-[70px] mt-[39px] flex-1",children:(0,w.jsx)(_r.F,{text:l("recentsList.noSubmissions")})})})},an=function(){var e=(0,l.useRouter)().query.username,t=en(e,15),r=t.data,n=t.isFetching;return(0,w.jsx)(ln,{submissions:r||[],isLoading:n})},sn=r(55156),on=function(e){var t=e.children;return(0,w.jsx)("a",{href:"/progress",className:M()(d.Cj.label3,d.Cj.label2Hover,"text-xs font-medium","ml-auto flex cursor-pointer items-center overflow-hidden pl-[50px]"),onClick:de.a.profileProfileSubmissionRecordsClick,children:t})},cn=function(){var e=(0,n.$G)("public-profile").t,t=(0,i.useRef)(null),r=(0,i.useRef)(null);return(0,w.jsx)(on,{children:(0,w.jsx)(gr,{refs:[t,r],elements:[(0,w.jsxs)("div",{ref:t,className:"flex items-center overflow-auto",children:[(0,w.jsx)("span",{className:"whitespace-nowrap",children:e("recentsList.allSubmissions")}),(0,w.jsx)(sn.V,{className:"ml-1"})]},0),(0,w.jsxs)("div",{ref:r,className:"flex items-center overflow-auto",children:[(0,w.jsx)("span",{className:"whitespace-nowrap",children:e("recentsList.viewAll")}),(0,w.jsx)(sn.V,{className:"ml-1"})]},1)]})})};!function(e){e.RECENT_AC="RECENT_AC",e.SOLUTIONS="SOLUTIONS",e.DISCUSS="DISCUSS"}(Jr||(Jr={}));var un=function(e){var t,r=e.label,n=e.icon,l=e.onClick,i=e.active;return(0,w.jsx)("div",{onClick:l,className:"cursor-pointer",children:(0,w.jsxs)("div",{className:M()((t={},(0,I.Z)(t,"".concat(d.Cj.label1),i),(0,I.Z)(t,"".concat(d.Cj.fill3),i),t),"lc-md:space-x-2 flex items-center rounded-[5px] px-5 py-[10px] font-medium",d.Cj.label1Hover),children:[(0,w.jsx)("span",{className:"lc-md:inline hidden text-2xl",children:n}),(0,w.jsx)("span",{className:"whitespace-nowrap",children:r})]})})},dn=function(){return!1},fn=function(e){var t=e.showSubmission,r=(0,n.$G)("public-profile").t,l=(0,i.useState)(t?Jr.RECENT_AC:Jr.SOLUTIONS),a=l[0],s=l[1];(0,i.useEffect)((function(){s(t?Jr.RECENT_AC:Jr.SOLUTIONS)}),[t]);var o=(0,i.useState)(tr.NewestToOldest),c=o[0],u=o[1],p=(0,i.useCallback)((function(e){return u(e)}),[u]),m=(0,f.D)(),v=(0,i.useMemo)((function(){return new Map([[Jr.RECENT_AC,{label:r("recentsList.recentAc"),icon:(0,w.jsx)(ur.w,{}),onClick:function(){return s(Jr.RECENT_AC)},component:an,isSubmission:!0}],[Jr.SOLUTIONS,{label:r("recentsList.solutions"),icon:(0,w.jsx)(dr.M,{}),onClick:function(){return s(Jr.SOLUTIONS)},useFilters:!0,component:Kr}],[Jr.DISCUSS,{label:r("recentsList.discuss"),icon:(0,w.jsx)(fr.h,{}),onClick:function(){return s(Jr.DISCUSS)},useFilters:!0,component:zr}]])}),[r,s]),x=(0,i.useMemo)((function(){return v.get(a).component}),[v,a]),h=(0,i.useMemo)((function(){return v.get(a)}),[v,a]);return(0,w.jsx)(Lt,{className:"px-4 pb-4 pt-4",children:(0,w.jsxs)("div",{className:"space-y-[18px]",children:[(0,w.jsxs)("div",{className:M()(d.Cj.label2,"flex w-full items-center"),children:[Array.from(v.keys()).filter((function(e){return!(!t&&e===Jr.RECENT_AC)})).map((function(e){var t=v.get(e);return t?(0,w.jsx)(un,{label:t.label,icon:t.icon,onClick:null===t||void 0===t?void 0:t.onClick,active:e===a},e):null})),(0,w.jsx)(Cr,{activeSortBy:c,setActiveSortBy:p,show:dn(!!h.useFilters)}),m&&h.isSubmission&&(0,w.jsx)(cn,{})]}),(0,w.jsx)(x,{sortBy:c})]})})},pn=(r(15084),r(94546),r(93885)),mn=r.n(pn);function vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hn,jn=function(e,t){var r=null===t||void 0===t?void 0:t.userProfileUserLevelMedal.current,n=null===e||void 0===e?void 0:e.userProfileUserNextMedal;return{matchedUser:{badges:(e?[r].concat((0,je.Z)(e.userProfileUserMedals.map((function(e){return xn(xn({},e),{},{hoverText:e.name})})))):[r]).filter((function(e){return!!e})).map((function(e){var t,r,n,l;return{id:e.id.toString(),name:e.name||"",shortName:e.name||"",displayName:e.name||"",icon:(null===(t=e.config)||void 0===t?void 0:t.icon)||"",hoverText:e.hoverText,medal:{slug:e.name||"",config:{iconGif:(null===(r=e.config)||void 0===r?void 0:r.iconGif)||"",iconGifBackground:(null===(n=e.config)||void 0===n?void 0:n.iconGifBackground)||""}},creationDate:(l=e.obtainDate,l?mn()(l).utcOffset(480).format("YYYY-MM-DD"):""),category:e.category}})),upcomingBadges:n?[{name:n.name,icon:n.config.icon||"",progress:n.progress||0}]:[]}}},bn=function(e){var t=(0,at.b5)(st.K,{userSlug:e},{enabled:!1}),r=t.data,n=t.refetch,l=(0,i.useRef)(0),a=(0,i.useRef)(""),s=(0,i.useState)(),o=s[0],c=s[1],u=a.current!==e?0:l.current,d=function(e,t){return(0,me.Ez2)(er.f6,{userSlug:e,limit:100,skip:t},{enabled:!1})}(e,u),f=d.data,p=d.refetch;return(0,i.useEffect)((function(){a.current!==e&&(n(),p(),a.current=e)}),[n,p,e]),(0,i.useEffect)((function(){f&&(c(o?{userProfileUserMedals:a.current!==e?[].concat((0,je.Z)(o.userProfileUserMedals),(0,je.Z)(f.userProfileUserMedals)):f.userProfileUserMedals,userProfileUserNextMedal:f.userProfileUserNextMedal}:f),f.userProfileUserMedals.length>=100&&(l.current+=100))}),[f]),xn(xn({},d),{},{data:jn(o,r)})},gn=r(54600),yn=r(63856),On=r(56675),wn=r(16321),Nn=r(2290),Cn=r(91303),Pn=r(72054),kn=function(e){return parseInt(e)},Sn=function(e){var t=e.badge,r=e.isActive,l=e.isWatchingSelfProfile,a=e.onSetActive,s=e.displayAnimatedBadge,o=(0,n.$G)("public-profile").t,c=(0,i.useState)(!1),f=c[0],p=c[1],m=(0,i.useRef)(null);return(0,Pn.o)(m,(function(){de.a.profileProfileMedalExposure({profile_medal_slug:t.medal.slug})})),(0,w.jsxs)("div",{ref:m,className:"flex flex-col items-center",children:[(0,w.jsx)(u.u,{label:(null===t||void 0===t?void 0:t.hoverText)||(null===t||void 0===t?void 0:t.displayName),children:(0,w.jsx)("img",{src:null===t||void 0===t?void 0:t.icon,alt:"badge",className:"m-auto block h-[60px] cursor-pointer",onClick:function(){var e,r;if(de.a.profileProfileMedalClick({profile_medal_slug:t.medal.slug}),null!==t&&void 0!==t&&null!==(e=t.medal)&&void 0!==e&&null!==(r=e.config)&&void 0!==r&&r.iconGif){var n=t.medal.config,l=n.iconGif,i=n.iconGifBackground;s(l,i)}}})}),(0,w.jsxs)("div",{className:"h-[40px]",children:[(0,w.jsx)("div",{className:M()("mt-4 max-w-[96px] overflow-hidden truncate text-center",{"cursor-pointer":l}),onClick:function(){return l&&a(kn(null===t||void 0===t?void 0:t.id),t.category)},onMouseOver:function(){return!f&&p(!0)},onMouseOut:function(){return f&&p(!1)},children:(null===t||void 0===t?void 0:t.shortName)||(null===t||void 0===t?void 0:t.displayName)}),l&&r?(0,w.jsxs)("div",{className:"align-center mt-0.5 flex justify-center",children:[(0,w.jsx)(Cn.A,{className:M()(d.Cj.labelGreenStandard,"h-4 w-4")}),(0,w.jsx)("span",{className:"".concat(d.Cj.label3," text-center text-xs"),children:o("badges.active")})]}):(0,w.jsx)(w.Fragment,{children:l&&f?(0,w.jsxs)("div",{className:"align-center mt-0.5 flex justify-center",children:[(0,w.jsx)(Cn.A,{className:M()(d.Cj.labelGrey5,"h-4 w-4")}),(0,w.jsx)("span",{className:"".concat(d.Cj.label3," text-center text-xs"),children:o("badges.notActive")})]}):(0,w.jsx)("div",{className:"".concat(d.Cj.label3," mt-0.5 text-center text-xs"),children:null===t||void 0===t?void 0:t.creationDate})})]})]},"badge".concat(t.id))},Dn=(hn={},(0,I.Z)(hn,rr.COMPETITION,"badges.competitionMedals"),(0,I.Z)(hn,me.mdI.LevelMedal,"badges.competitionMedals"),(0,I.Z)(hn,rr.STUDY_PLAN,"badges.studyPlanMedals"),(0,I.Z)(hn,me.mdI.StudyPlanMedal,"badges.studyPlanMedals"),(0,I.Z)(hn,rr.DCC,"badges.dailyMedals"),(0,I.Z)(hn,me.mdI.DailyQuestionMedal,"badges.dailyMedals"),(0,I.Z)(hn,rr.ANNUAL,"badges.activityMedals"),(0,I.Z)(hn,me.mdI.ContestGroupMedal,"badges.activityMedals"),(0,I.Z)(hn,me.mdI.Other,"badges.activityMedals"),hn),En=function(e){var t=e.badges,r=e.visible,l=e.onClose,a=e.activeBadgeId,s=e.activeBadgeCategory,o=e.isWatchingSelfProfile,c=e.onSetActive,u=e.displayAnimatedBadge,f=(0,n.$G)("public-profile").t,p=(0,Nn.useMediaQuery)({query:"(max-width: 767px)"}),m=(0,i.useMemo)((function(){return t.reduce((function(e,t){var r=f(Dn[t.category]);return e[r]||(e[r]=[]),e[r].push(t),e}),{})}),[t,f]);return(0,w.jsx)(Z.u,{title:f("badges.badgeList"),titleRowClass:"border-b-1 ".concat(d.Cj.dividerBorder2),visible:r,onCancel:l,maskClosable:!0,className:"w-[100%] max-w-[600px] p-5",children:m&&(0,w.jsx)("div",{className:"max-h-[600px] overflow-y-auto",children:Object.keys(m).map((function(e){var t,r=m[e];return r.length>0&&(0,w.jsxs)("div",{className:"mt-[24px]",children:[(0,w.jsx)("div",{className:d.Cj.label2,children:e}),(0,w.jsx)("div",{className:"w-full px-2",children:(t=r,(0,w.jsx)("div",{className:"grid grid-cols-".concat(p?2:4," gap-x-[50px]"),children:t.map((function(e){var t=An(e,a,s);return(0,w.jsx)("div",{className:"mt-6",children:(0,w.jsx)(Sn,{badge:e,isActive:t,isWatchingSelfProfile:o,onSetActive:c,displayAnimatedBadge:u})},"modal_badge_".concat(null===e||void 0===e?void 0:e.id))}))}))})]},e)}))})})},Mn=96*Math.PI,An=function(e,t,r){return parseInt(e.id)===t&&e.category===r},Ln=function(){var e=(0,me.j7q)(er.f6).mutateAsync,t=(0,o.NL)(),r=(0,l.useRouter)().query.username;return function(n,l){return e({medalId:n,category:l}).then((function(){return(0,h.f)(t,r),""}))}},_n=function(e){var t,r,a,s,o,c,p,m=e.badges,v=e.upcomingBadges,x=e.onExpand,j=e.displayAnimatedBadge,b=(0,n.$G)("public-profile").t,g=(0,l.useRouter)().query.username,y=(0,i.useState)(!1),O=y[0],N=y[1],C=(0,i.useState)(""),P=C[0],k=C[1],S=(0,i.useState)(1),D=S[0],E=S[1],M=(0,i.useRef)(null),A=Number((null===v||void 0===v?void 0:v.length)&&(null===(t=v[0])||void 0===t?void 0:t.progress))/100*Mn,L="".concat(A," ").concat(Mn-A),_=(0,f.D)(),R=null===(r=(0,h.x)(g))||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.matchedUser)||void 0===s?void 0:s.activeBadge,B=(0,Ht.i)(),F=(0,jr.jU)();(0,i.useEffect)((function(){k((null===R||void 0===R?void 0:R.id)||"")}),[R]);var Z=Ln(),I=function(e,t){_&&Z(e,t).then((function(e){return k(e)})).catch((function(e){return console.error(e)}))},G=(0,i.useCallback)((function(){N(!0),document.body.style.overflow="hidden"}),[N]),V=(0,i.useCallback)((function(){N(!1),document.body.style.overflow="unset"}),[N]);return(0,br.L)((function(){var e,t=null;if(M.current&&(t=M.current.getBoundingClientRect()),F&&null!==(e=t)&&void 0!==e&&e.width){var r=Number(t.width)-100-30,n=Math.floor(r/130);E(Math.min(n,4))}}),[B.width,F]),(0,w.jsxs)("div",{className:"flex h-full w-full",children:[(0,w.jsxs)("div",{className:"mr-4",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:b("badges.lockedBadge")}),!!v&&v.length>0&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"relative mt-5 flex min-w-[100px] items-center justify-center",children:[(0,w.jsx)("img",{src:null===(o=v[0])||void 0===o?void 0:o.icon,alt:"upcoming badge",className:"h-[60px] opacity-10"}),(0,w.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex items-center justify-center",children:(0,w.jsxs)("svg",{className:"h-[40px] w-[40px] origin-center",viewBox:"0 0 ".concat(Kt.YS," ").concat(Kt.YS),children:[(0,w.jsx)(Kt.Dy,{className:"text-gray-4 dark:text-dark-gray-4 w-[38px]",r:48}),(0,w.jsx)(Kt.Dy,{strokeDasharray:L,r:48,strokeDashoffset:48*Math.PI/2,className:d.Cj.labelBlueStandard})]})}),(0,w.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex items-center justify-center",children:(0,w.jsx)(yn._,{className:d.Cj.labelGrey5})})]}),(0,w.jsx)("div",{className:"".concat(d.Cj.label2," mt-4 text-center"),children:b("badges.dailyChallenge")}),(0,w.jsxs)("div",{className:"".concat(d.Cj.label3," mt-0.5 text-center text-xs"),children:[null===(c=v[0])||void 0===c?void 0:c.progress,"%"]})]})]}),(0,w.jsx)(yr.i,{orientation:"vertical",className:"bg-divider-3 dark:bg-dark-divider-3 mt-[32px] h-[60px]"}),(0,w.jsxs)("div",{ref:M,className:"ml-5 grow",children:[(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:b("badges.historyAwards")}),(0,w.jsx)(On.D,{className:"h-[24px] w-[24px] ".concat(d.Cj.label3," cursor-pointer"),onClick:x})]}),(0,w.jsxs)("div",{className:"mt-3 flex flex-wrap",children:[(null===m||void 0===m?void 0:m.length)&&m.slice(0,D).map((function(e){var t=An(e,P,null===R||void 0===R?void 0:R.category);return(0,w.jsx)("div",{className:"mr-[30px] w-[100px]",children:(0,w.jsx)(Sn,{badge:e,isActive:t,isWatchingSelfProfile:_,onSetActive:I,displayAnimatedBadge:j})},e.id)})),!!m&&m.length>D&&(0,w.jsx)("div",{className:"relative flex cursor-pointer justify-center",style:{marginRight:30},onClick:G,children:(0,w.jsx)(u.u,{label:b("badges.showMoreBadges"),children:(0,w.jsxs)("span",{className:"h-[60px]",children:[(0,w.jsx)("img",{src:null===(p=m[D])||void 0===p?void 0:p.icon,alt:"showmore",className:"h-[60px] opacity-10"}),(0,w.jsx)("div",{className:"absolute top-[25px]",children:(0,w.jsx)(wn.q,{className:"h-5 w-[60px]"})})]})})})]})]}),Number(null===m||void 0===m?void 0:m.length)>D&&(0,w.jsx)(En,{visible:O,badges:m||[],onClose:V,activeBadgeId:P,activeBadgeCategory:null===R||void 0===R?void 0:R.category,isWatchingSelfProfile:_,onSetActive:I,displayAnimatedBadge:j})]})},Rn=r(82875),Bn=function(e,t,r){(null===e||void 0===e?void 0:e.medal.slug)&&de.a.profileProfileMedalExposure({profile_medal_slug:null===e||void 0===e?void 0:e.medal.slug}),(null===t||void 0===t?void 0:t.medal.slug)&&de.a.profileProfileMedalExposure({profile_medal_slug:null===t||void 0===t?void 0:t.medal.slug}),(null===r||void 0===r?void 0:r.medal.slug)&&de.a.profileProfileMedalExposure({profile_medal_slug:null===r||void 0===r?void 0:r.medal.slug})},Fn=function(e){var t=e.badges,r=e.displayAnimatedBadge,n=(0,s.Z)(t,3),l=n[0],a=n[1],o=n[2],c=function(e){var t,n;if(de.a.profileProfileMedalClick({profile_medal_slug:e.medal.slug}),null!==e&&void 0!==e&&null!==(t=e.medal)&&void 0!==t&&null!==(n=t.config)&&void 0!==n&&n.iconGif){var l=e.medal.config,i=l.iconGif,a=l.iconGifBackground;r(i,a)}},d=(0,i.useRef)(null);return(0,Pn.o)(d,(function(){return Bn(l,a,o)})),(0,w.jsxs)("div",{className:"flex items-center justify-center",ref:d,children:[(0,w.jsx)("div",{className:"mr-[28px] h-[56px] w-[56px]",children:a&&(0,w.jsx)(u.u,{placement:"top",label:a.hoverText||a.displayName,children:(0,w.jsx)("img",{src:a.icon,alt:a.displayName,className:"h-full w-full cursor-pointer object-contain",onClick:function(){return c(a)}})})}),(0,w.jsx)("div",{className:"mr-[28px] h-[72px] w-[72px]",children:l&&(0,w.jsx)(u.u,{placement:"top",label:l.hoverText||l.displayName,children:(0,w.jsx)("img",{src:l.icon,alt:l.displayName,className:"h-full w-full cursor-pointer object-contain",onClick:function(){return c(l)}})})}),(0,w.jsx)("div",{className:"h-[56px] w-[56px]",children:o&&(0,w.jsx)(u.u,{placement:"top",label:o.hoverText||o.displayName,children:(0,w.jsx)("img",{src:o.icon,alt:o.displayName,className:"h-full w-full cursor-pointer object-contain",onClick:function(){return c(o)}})})})]})},Zn=function(e){var t=e.badges,r=e.upcomingBadges,l=e.onExpand,a=e.displayAnimatedBadge,s=(0,n.$G)("public-profile").t,o=(0,i.useMemo)((function(){return null!==r&&void 0!==r&&r.length?r[0]:null}),[r]);return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex items-start justify-between",children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:s("badges.badges")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1," mt-1.5 text-2xl leading-[18px]"),children:(null===t||void 0===t?void 0:t.length)||0})]}),!(null===t||void 0===t||!t.length)&&(0,w.jsx)(Rn.E,{className:"h-[24px] w-[24px] ".concat(d.Cj.label3," cursor-pointer"),onClick:l})]}),!(null===t||void 0===t||!t.length)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(Fn,{badges:t,displayAnimatedBadge:a}),(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:s("badges.mostRecentBadge")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1," text-base"),children:t[0].displayName})]}),0===(null===t||void 0===t?void 0:t.length)&&!!o&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"flex w-full justify-end",children:(0,w.jsx)(u.u,{label:null===o||void 0===o?void 0:o.name,children:(0,w.jsx)("img",{src:null===o||void 0===o?void 0:o.icon,alt:"upcoming badge",className:"mr-5 h-[72px] cursor-pointer opacity-5"})})}),(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:s("badges.lockedBadge")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1," text-base"),children:null===o||void 0===o?void 0:o.name})]})]})},In=function(){return(0,w.jsxs)(Ie.O,{className:"relative flex h-full flex-col p-4",children:[(0,w.jsxs)("div",{className:"space-y-4",children:[(0,w.jsx)(Ge.a,{className:"max-w-[48px]"}),(0,w.jsx)(Ge.a,{className:"max-w-[48px]"})]}),(0,w.jsxs)("div",{className:"absolute left-[50%] top-[50%] flex translate-x-[-50%] translate-y-[-50%] items-center space-x-6",children:[(0,w.jsx)(Ge.a,{className:"h-14 w-14 rounded-full"}),(0,w.jsx)(Ge.a,{className:"h-20 w-20 rounded-full"}),(0,w.jsx)(Ge.a,{className:"h-14 w-14 rounded-full"})]}),(0,w.jsxs)("div",{className:"mt-auto space-y-4",children:[(0,w.jsx)(Ge.a,{className:"max-w-[48px]"}),(0,w.jsx)(Ge.a,{className:"max-w-[120px]"})]})]})},Gn=function(e){var t=e.badges,r=e.username,n=e.triggerAnimated;(0,i.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("medal");if(e){var l=t.find((function(t){return t.id===e}));if(l){var i=l.medal.config,a=i.iconGif,s=i.iconGifBackground;n(a,s),window.history.replaceState(window.history.state,"","/u/".concat(r))}}}),[t,n,r])},Vn=function(e){var t,r,n=e.expanded,a=e.onExpand,s=(0,l.useRouter)().query.username,o=(0,i.useState)(!1),c=o[0],u=o[1],f=(0,i.useState)(""),p=f[0],m=f[1],v=(0,i.useState)(""),x=v[0],h=v[1],j=bn(s),b=j.data,g=j.isFetching,y=(0,i.useMemo)((function(){var e;return(null===b||void 0===b||null===(e=b.matchedUser)||void 0===e?void 0:e.badges)||[]}),[null===b||void 0===b||null===(t=b.matchedUser)||void 0===t?void 0:t.badges]),O=(null===b||void 0===b||null===(r=b.matchedUser)||void 0===r?void 0:r.upcomingBadges)||[],N=function(){u(!1)},C=function(e,t){h(t||""),m(e),e&&u(!0)},P=function(e){"Escape"===e.key&&u(!1)};return(0,i.useEffect)((function(){return document.addEventListener("keyup",P),function(){return document.removeEventListener("keyup",P)}}),[]),Gn({badges:y,username:s,triggerAnimated:C}),g?(0,w.jsx)(In,{}):(0,w.jsxs)("div",{className:"p-4",children:[n?(0,w.jsx)(_n,{badges:y,upcomingBadges:O,displayAnimatedBadge:C,onExpand:a}):(0,w.jsx)(Zn,{badges:y,upcomingBadges:O,displayAnimatedBadge:C,onExpand:a}),c&&(0,w.jsxs)("div",{className:M()("z-modal-5 fixed bottom-0 left-0 right-0 top-0"),style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[(0,w.jsx)(gn.F,{className:M()(d.Cj.labelWhite,"float-right mr-4 mt-3 h-6 w-6 cursor-pointer"),onClick:N}),(0,w.jsx)("div",{className:"flex h-full w-full items-center justify-center",onClick:N,children:(0,w.jsxs)("div",{className:"relative flex h-[160px] w-[160px] items-center justify-center",onClick:function(e){return e.stopPropagation()},children:[!!x&&(0,w.jsx)("img",{src:x,alt:"badge background",className:"absolute left-0 right-0 h-[160px] w-[160px]"}),!!p&&(0,w.jsx)("img",{src:p,alt:"badge gif",className:"z-modal-6 h-[120px] w-[120px]"})]})})]})]})},Tn=(r(39663),r(29198));function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hn=i.forwardRef((function(e,t){return(0,w.jsxs)("svg",Xn(Xn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:[(0,w.jsx)("path",{fillRule:"evenodd",d:"M19.7 4.293a1 1 0 010 1.414L4.907 20.5a1 1 0 01-1.414-1.414L18.286 4.293a1 1 0 011.414 0z",clipRule:"evenodd"}),(0,w.jsx)("path",{fillRule:"evenodd",d:"M3.993 5a1 1 0 011-1h14a1 1 0 011 1v14a1 1 0 11-2 0V6h-13a1 1 0 01-1-1z",clipRule:"evenodd"})]}))}));function zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qn=i.forwardRef((function(e,t){return(0,w.jsxs)("svg",Wn(Wn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:t},e),{},{children:[(0,w.jsx)("path",{fillRule:"evenodd",d:"M19.7 20.5a1 1 0 000-1.414L4.907 4.293a1 1 0 10-1.414 1.414L18.286 20.5a1 1 0 001.414 0z",clipRule:"evenodd"}),(0,w.jsx)("path",{fillRule:"evenodd",d:"M3.993 19.793a1 1 0 001 1h14a1 1 0 001-1v-14a1 1 0 10-2 0v13h-13a1 1 0 00-1 1z",clipRule:"evenodd"})]}))}));function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qn=r(39602),Kn=r.n(Qn),Jn=r(43614);function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}"object"===typeof mt&&Kn()(mt);var rl="rating-contest-graph",nl=Jn.Z.debounce((function(){Array.from(document.querySelectorAll(".".concat(rl," .").concat("highcharts-annotation"))).forEach((function(e){e.removeAttribute("clip-path")}))}),10),ll={chart:{height:"123px",backgroundColor:"transparent"},credits:{enabled:!1},title:{text:"",style:{display:"none"}},plotOptions:{line:{marker:{enabled:!1,radius:2.5,symbol:"circle"},states:{hover:{enabled:!0,lineWidth:2}}},series:{point:{events:{}}}},yAxis:{visible:!1},tooltip:{enabled:!1},series:[{type:"line",data:[],showInLegend:!1,color:"rgba(255, 161, 22, 1)"}]},il=function(e){var t=e.data,r=e.onActivePoint,n=e.theme,l=(0,i.useRef)(null),a=function(e){l.current&&(l.current.chart.annotations||[]).forEach((function(t){t.update({visible:e,animation:{defer:0}})}))};(0,i.useEffect)((function(){l.current&&l.current.chart.update({chart:{animation:!1}})}),[]),(0,i.useEffect)((function(){nl()}));var s=(0,i.useCallback)((function(e){0===e.target.x&&(e.preventDefault(),e.target.setState("")),r(e.target.x),a(!1)}),[r]),o=(0,i.useCallback)((function(){r(null),a(!0)}),[r]),c=(0,i.useMemo)((function(){var e,r,l,i,a=t.map((function(e,t){var r=e.rating,n=e.attended;return{x:t+1,y:Math.round(r),attended:n}})).filter((function(e){return e.attended})).map((function(e){return{x:e.x,y:e.y}})),c={y:-1,x:0};a.forEach((function(e){e.y>=c.y&&(c=e)})),a=a.map((function(e){return e.x===c.x?tl(tl({},e),{},{marker:{enabled:!0,style:{border:"0.5px solid rgba(229, 231, 235, 1)"},fillColor:"white",lineColor:"rgba(229, 231, 235, 1)",lineWidth:1,radius:3,states:{hover:{fillColor:"rgba(255, 161, 22, 1)",lineWidth:1,lineColor:"white",radius:4.5}}}}):e}));var u=[],d=null===(e=t[0])||void 0===e||null===(r=e.contest)||void 0===r?void 0:r.startTime,f=null===(l=t[t.length-1])||void 0===l||null===(i=l.contest)||void 0===i?void 0:i.startTime;if(d){var p=new Date(1e3*d),m=new Date(1e3*f);if(m.getUTCFullYear()-p.getUTCFullYear()>=1)u.push([1,String(p.getUTCFullYear())]),u.push([t.length,String(m.getUTCFullYear())]);else{var v=p.toLocaleString("default",{month:"short",year:"numeric"});if(u.push([1,v]),p!==m){var x=m.toLocaleString("default",{month:"short",year:"numeric"});u.push([t.length,x])}}}var h=tl(tl({},ll),{},{xAxis:{lineColor:"transparent",tickPositions:u.map((function(e){return e[0]})),tickLength:0,crosshair:{color:"rgba(255, 161, 22, 0.6)"},labels:{formatter:function(){var e=this.value,t=u.find((function(t){return t[0]===e}));return t?t[1]:""}}},annotations:[{labels:[{point:{x:c.x,y:c.y,xAxis:0,yAxis:0},text:"".concat((0,Tn.G)(c.y)),distance:15,verticalAlign:"top",allowOverlap:!1,overflow:"none",backgroundColor:"dark"===n?"#212224":"white",borderColor:"dark"===n?"rgba(247, 250, 255, 0.18)":"rgba(0, 10, 32, 0.11)",style:{color:"dark"===n?"rgba(239, 241, 246, 0.6)":"rgba(60, 60, 67, 0.6)"}}]}],plotOptions:tl(tl({},ll.plotOptions),{},{series:{point:{events:{mouseOver:s}},events:{mouseOut:o}}})});if(1===a.length){var j=a[0],b=[{x:0,y:j.y},j,{x:2,y:j.y}];return tl(tl({},h),{},{series:[tl(tl({},ll.series[0]),{},{enableMouseTracking:!1,data:b}),tl(tl({},ll.series[0]),{},{data:a})]})}return tl(tl({},h),{},{series:[tl(tl({},ll.series[0]),{},{data:a})]})}),[t,s,o,n]);return(0,w.jsx)("div",{className:rl,children:(0,w.jsx)(ht(),{ref:l,options:c,highcharts:mt})})},al=r(24174),sl=function(e){return(0,al.Z)(e,"yyyy-MM-dd")},ol={guardian:5,knight:20},cl=function(){var e,t,r,a,s,o,c,p,m,v,x,h,j,b,g,y,O=(0,n.$G)("public-profile").t,N=(0,l.useRouter)().query.username,C=Bt(N).data,P=(b=N,g=!0,(0,me.HqB)(er.f6,{userSlug:b},{enabled:g})).data,k=null===C||void 0===C?void 0:C.userContestRanking,S=(0,i.useMemo)((function(){return(null===C||void 0===C?void 0:C.userContestRankingHistory)||[]}),[null===C||void 0===C?void 0:C.userContestRankingHistory]),D=function(e,t){return(0,at.b5)(st.K,{userSlug:e},$n($n({},t),{},{select:function(e){var t,r,n=null===(t=e.userProfileUserLevelMedal)||void 0===t?void 0:t.current,l=null===(r=e.userProfileUserLevelMedal)||void 0===r?void 0:r.next,i={name:"",icon:"",hoverText:"",expired:!0};return n?(i.name=n.name,i.icon=n.config.icon,i.hoverText=n.hoverText||"",i.expired=!1):null!==l&&void 0!==l&&l.everOwned&&(i.name=(null===l||void 0===l?void 0:l.name)||"",i.icon=(null===l||void 0===l?void 0:l.config.icon)||"",i.hoverText=(null===l||void 0===l?void 0:l.hoverText)||"",i.expired=!0),i}}))}(N,{enabled:!0}),E=D.data;y=E;var A=(0,i.useState)(null),L=A[0],_=A[1],R=(0,Xt.X)(),B=(0,f.D)(),F=(0,Ht.i)(),Z=(0,i.useMemo)((function(){return Number(null===F||void 0===F?void 0:F.width)<450}),[F]),G=(0,i.useMemo)((function(){var e,t,r,n;return null!==(e=y)&&void 0!==e&&e.expired?B?O("contestGraph.contestBadge.self",{percentage:ol[null===(r=y)||void 0===r||null===(n=r.name)||void 0===n?void 0:n.toLowerCase()]}):O("contestGraph.contestBadge.anonymous"):null===(t=y)||void 0===t?void 0:t.hoverText}),[null===(e=y)||void 0===e?void 0:e.expired,null===(t=y)||void 0===t?void 0:t.hoverText,null===(r=y)||void 0===r?void 0:r.name,B,O]),V=(0,i.useCallback)((function(e){_(e?e-1:null)}),[_]),T=(0,i.useMemo)((function(){var e=S.findIndex((function(e){return e.attended})),t=S.length-S.slice().reverse().findIndex((function(e){return e.attended}));return S.slice(e,t)}),[S]),U=null!==L&&T&&T[L],X=(0,i.useMemo)((function(){var e,t;return U&&null!==(e=U.contest)&&void 0!==e&&e.startTime?sl(new Date(1e3*(null===(t=U.contest)||void 0===t?void 0:t.startTime))):O("contestGraph.contest")}),[U,O]);return(0,w.jsxs)("div",{className:"w-full",children:[(0,w.jsx)("div",{className:"relative min-h-[53px] text-xs",children:U?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"absolute left-0 top-0",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," font-medium"),children:O("contestGraph.contestRating")}),(0,w.jsxs)("div",{className:"".concat(d.Cj.label1," flex items-center text-2xl"),children:[(0,Tn.G)(Math.round(U.rating)),(0,w.jsxs)("div",{className:"ml-1",children:["UP"===U.trendDirection&&(0,w.jsx)(Hn,{className:d.Cj.labelGreenStandard}),"DOWN"===U.trendDirection&&(0,w.jsx)(qn,{className:d.Cj.labelRedStandard})]})]})]}),(0,w.jsxs)("div",{className:M()("absolute top-0",{"left-[108px]":Z,"left-[116px]":!Z}),children:[(0,w.jsx)("div",{className:d.Cj.label3,children:X}),(0,w.jsx)("div",{className:M()(d.Cj.label1,"h-5 truncate whitespace-nowrap font-medium leading-[22px]",{"w-[100px]":Z,"w-[144px]":!Z}),children:null===(a=U.contest)||void 0===a?void 0:a.title})]}),(0,w.jsxs)("div",{className:M()("absolute top-0",{"left-[216px]":Z,"left-[267px]":!Z}),children:[(0,w.jsx)("div",{className:d.Cj.label3,children:O("contestGraph.rank")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1," font-medium leading-[22px]"),children:(0,Tn.G)(Number(U.ranking))})]}),(0,w.jsxs)("div",{className:M()("absolute top-0",{"left-[268px]":Z,"left-[319px]":!Z}),children:[(0,w.jsx)("div",{className:d.Cj.label3,children:O("contestGraph.solved")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1," font-medium leading-[22px]"),children:U.problemsSolved})]})]}):(0,w.jsxs)("div",{className:"align-start flex w-full",children:[(0,w.jsxs)("div",{className:"mr-4",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," font-medium"),children:O("contestGraph.contestRating")}),(0,w.jsx)("div",{className:"".concat(d.Cj.label1," flex items-center text-2xl"),children:(0,Tn.G)(Math.round(Number(null===k||void 0===k?void 0:k.rating)))})]}),!(null===(s=y)||void 0===s||!s.icon)&&!(null===(o=y)||void 0===o||!o.name)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"mr-2 mt-1",children:(0,w.jsx)(u.u,{label:G,children:(0,w.jsx)("img",{src:y.icon,alt:"contest badge",className:M()("h-full max-h-[40px] min-h-[40px] w-full min-w-[30px] max-w-[40px]",{"opacity-80 grayscale":Boolean(null===(c=y)||void 0===c?void 0:c.expired)})})})}),(0,w.jsxs)("div",{className:"mr-4",children:[(0,w.jsx)("div",{className:M()(d.Cj.label3,"min-w-[50px] text-xs"),children:null!==(p=y)&&void 0!==p&&p.expired?O("contestGraph.historyLevel"):O("contestGraph.level")}),(0,w.jsx)("div",{className:M()("text-sm leading-[22px]",(x={},(0,I.Z)(x,d.Cj.label3,Boolean(null===(m=y)||void 0===m?void 0:m.expired)),(0,I.Z)(x,d.Cj.labelBlueStandard,!Boolean(null===(v=y)||void 0===v?void 0:v.expired)),x)),children:y.name})]})]}),(0,w.jsxs)("div",{className:"mr-4",children:[(0,w.jsx)("div",{className:d.Cj.label3,children:O("contestGraph.globalRanking")}),(0,w.jsxs)("div",{className:"".concat(d.Cj.label1," font-medium leading-[22px]"),children:[(0,Tn.G)(Number(null===k||void 0===k?void 0:k.globalRanking)),(0,w.jsxs)("span",{className:d.Cj.label4,children:["/",(0,Tn.G)(Number(null===k||void 0===k?void 0:k.totalParticipants))]})]})]}),(0,w.jsxs)("div",{className:"mr-4",children:[(0,w.jsx)("div",{className:d.Cj.label3,children:O("contestGraph.localRanking")}),(0,w.jsxs)("div",{className:"".concat(d.Cj.label1," font-medium leading-[22px]"),children:[(0,Tn.G)(Number(null===P||void 0===P||null===(h=P.userContestRanking)||void 0===h?void 0:h.currentRatingRanking)),(0,w.jsxs)("span",{className:d.Cj.label4,children:["/",(0,Tn.G)(Number(null===P||void 0===P||null===(j=P.localRankingV2)||void 0===j?void 0:j.totalUsers))]})]})]})]})}),(0,w.jsx)(il,{data:T,onActivePoint:V,theme:R||""})]})},ul=function(){return(0,at.ZO)(st.K,{})},dl=r(40675);function fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fl(Object(r),!0).forEach((function(t){(0,I.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}"object"===typeof mt&&r.n(dl)()(mt);var ml={chart:{type:"column",height:"115px",backgroundColor:"transparent",margin:[0,0,0,0],animation:!1},credits:{enabled:!1},title:{text:"",style:{display:"none"}},subtitle:{text:""},xAxis:{visible:!1},yAxis:{min:0,visible:!1,title:{text:"",visible:!1}},tooltip:{enabled:!1},plotOptions:{column:{pointPadding:0,borderRadius:2,groupPadding:.05,shadow:!1,color:"rgba(0, 10, 32, 0.05)"}},series:[{name:"Data",showInLegend:!1}]},vl=function(e){var t=e.data,r=e.onActivePoint,n=e.userRange,l=e.theme,a=(0,i.useRef)(null),s=(0,i.useCallback)((function(e){var t;a.current&&(null===(t=a.current.chart.series[0])||void 0===t||t.data.forEach((function(t){t.setState(""),t.selected=!1,null===e&&t.x===n?t.setState("select"):t.x===e&&t.setState("hover")})))}),[n]),o=(0,i.useCallback)((function(e){r(e),s(e)}),[r,s]),c=(0,i.useCallback)((function(){r(null),s(null)}),[r,s]),u=(0,i.useMemo)((function(){var e=Math.max.apply(Math,(0,je.Z)(t)),r=.1*e,i="dark"===l?"#282828":"#fff";return pl(pl({},ml),{},{yAxis:pl(pl({},ml.yAxis),{},{ceiling:e,floor:r}),plotOptions:pl(pl({},ml.plotOptions),{},{column:pl(pl({},ml.plotOptions.column),{},{states:{hover:{color:"rgba(255, 161, 22, 1)"},select:{color:"rgba(255, 161, 22, 1)",borderColor:i}},color:"dark"===l?"rgba(255, 255, 255, 0.1)":"rgba(0, 10, 32, 0.05)",borderColor:i}),series:{events:{mouseOut:c}}}),series:[pl(pl({},ml.series[0]),{},{data:t.map((function(e,t){return{y:Math.max(e,r),selected:t===n}})),states:{inactive:{opacity:1}}}),{grouping:!1,groupPadding:0,data:t.map((function(t,r){return{y:e,events:{mouseOver:function(){o(r)}}}})),color:"transparent",showInLegend:!1,states:{hover:{color:"transparent"}}}]})}),[t,n,o,c,l]);return(0,w.jsx)(ht(),{options:u,ref:a,highcharts:mt})},xl=function(){var e,t,r,a,s=(0,n.$G)("public-profile").t,o=(0,l.useRouter)().query.username,c=null===(e=ul())||void 0===e||null===(t=e.data)||void 0===t?void 0:t.contestRatingHistogram,u=null===(r=Bt(o))||void 0===r||null===(a=r.data)||void 0===a?void 0:a.userContestRanking,f=(0,Xt.X)(),p=(0,i.useState)(null),m=p[0],v=p[1],x=(0,i.useMemo)((function(){return c?c.map((function(e){return e.userCount})):[]}),[c]),h=(0,i.useMemo)((function(){if(c&&u)for(var e=0;e<c.length;e++){var t,r;if((null===(t=c[e])||void 0===t?void 0:t.ratingStart)<=u.rating&&(null===(r=c[e])||void 0===r?void 0:r.ratingEnd)>=u.rating)return e}return 0}),[c,u]);if(!c)return null;var j=(null!==m?c[m].topPercentage:null===u||void 0===u?void 0:u.topPercentage)||100,b=Math.round(100*j)/100,g=null!==m&&c[m],y=g?"".concat(g.ratingStart," - ").concat(g.ratingEnd):"";return 0===m&&g?y="< ".concat(g.ratingEnd):m===c.length-1&&g&&(y="".concat(g.ratingStart,"+")),(0,w.jsxs)("div",{className:"w-full",children:[(0,w.jsxs)("div",{className:"relative min-h-[49px]",children:[(0,w.jsxs)("div",{className:"absolute left-0 top-0",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:s("histogram.top")}),(0,w.jsxs)("div",{className:"".concat(d.Cj.label1," text-2xl"),children:[b,"%"]})]}),(0,w.jsxs)("div",{className:"absolute left-[100px] top-0",children:[(0,w.jsx)("div",{className:"".concat(d.Cj.label3," text-xs"),children:y}),(0,w.jsx)("div",{className:d.Cj.label1,children:g?s("histogram.numberOfUsers",{numberOfUsers:"".concat((0,Tn.G)(Number(g.userCount)))}):""})]})]}),(0,w.jsx)("div",{className:"cursor-pointer",children:(0,w.jsx)(vl,{data:x,onActivePoint:v,userRange:h,theme:f||""})})]})},hl=function(){return(0,w.jsxs)(Ie.O,{className:"flex h-full w-full flex-col justify-between",children:[(0,w.jsxs)("div",{className:"flex space-x-8",children:[(0,w.jsxs)("div",{className:"block space-y-2",children:[(0,w.jsx)(Ge.a,{className:"w-[30px]"}),(0,w.jsx)(Ge.a,{className:"w-[36px]"})]}),(0,w.jsxs)("div",{className:"block space-y-2",children:[(0,w.jsx)(Ge.a,{className:"w-[30px]"}),(0,w.jsx)(Ge.a,{className:"w-[36px]"})]}),(0,w.jsxs)("div",{className:"block space-y-2",children:[(0,w.jsx)(Ge.a,{className:"w-[30px]"}),(0,w.jsx)(Ge.a,{className:"w-[36px]"})]}),(0,w.jsxs)("div",{className:"block space-y-2",children:[(0,w.jsx)(Ge.a,{className:"w-[30px]"}),(0,w.jsx)(Ge.a,{className:"w-[36px]"})]})]}),(0,w.jsx)("div",{children:(0,w.jsx)(Ge.a,{className:"h-10 w-full"})}),(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)(Ge.a,{className:"w-8"}),(0,w.jsx)(Ge.a,{className:"w-8"})]})]})},jl=function(){return(0,w.jsxs)(Ie.O,{className:"flex h-full w-full flex-col justify-between",children:[(0,w.jsxs)("div",{className:"flex space-x-8",children:[(0,w.jsxs)("div",{className:"block space-y-2",children:[(0,w.jsx)(Ge.a,{className:"w-[30px]"}),(0,w.jsx)(Ge.a,{className:"w-[36px]"})]}),(0,w.jsxs)("div",{className:"block space-y-2",children:[(0,w.jsx)(Ge.a,{className:"w-[30px]"}),(0,w.jsx)(Ge.a,{className:"w-[36px]"})]})]}),(0,w.jsx)("div",{children:(0,w.jsx)(Ge.a,{className:"h-10 w-full"})}),(0,w.jsxs)("div",{className:"invisible flex justify-between",children:[(0,w.jsx)(Ge.a,{className:"w-8"}),(0,w.jsx)(Ge.a,{className:"w-8"})]})]})},bl=function(){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Lt,{className:"lc-lg:mt-0 lc-xl:flex my-4 hidden h-[200px] w-full p-4",children:[(0,w.jsx)("div",{className:"lc-md:min-w-none h-full w-full min-w-[200px] flex-1",children:(0,w.jsx)(hl,{})}),(0,w.jsx)(yr.i,{orientation:"vertical",className:"bg-divider-3 dark:bg-dark-divider-3 lc-md:block mx-4 hidden"}),(0,w.jsx)("div",{className:"lc-md:min-w-none lc-md:block hidden h-full min-w-[200px] flex-1",children:(0,w.jsx)(jl,{})})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(Lt,{className:"lc-lg:mt-0 lc-xl:hidden mt-4 flex h-[200px] w-full min-w-[200px] p-4",children:(0,w.jsx)(hl,{})}),(0,w.jsx)(Lt,{className:"lc-xl:hidden my-4 flex h-[200px] w-full min-w-[200px] p-4",children:(0,w.jsx)(jl,{})})]})]})},gl=function(){var e=(0,l.useRouter)().query.username,t=Bt(e),r=t.data;if(t.isFetching)return(0,w.jsx)(bl,{});var n=null===r||void 0===r?void 0:r.userContestRanking;return!!n&&!!n.attendedContestsCount?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(Lt,{className:"lc-lg:mt-0 lc-xl:flex my-4 hidden h-[200px] w-full p-4",children:[(0,w.jsx)("div",{className:"lc-md:min-w-none h-full w-full min-w-[200px] flex-1",children:(0,w.jsx)(cl,{})}),(0,w.jsx)(yr.i,{orientation:"vertical",className:"bg-divider-3 dark:bg-dark-divider-3 lc-md:block mx-4 hidden"}),(0,w.jsx)("div",{className:"lc-md:min-w-none lc-md:block hidden h-full min-w-[200px] flex-1",children:(0,w.jsx)(xl,{})})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(Lt,{className:"lc-lg:mt-0 lc-xl:hidden mt-4 flex h-[200px] w-full min-w-[200px] p-4",children:(0,w.jsx)(cl,{})}),(0,w.jsx)(Lt,{className:"lc-xl:hidden my-4 flex h-[200px] w-full min-w-[200px] p-4",children:(0,w.jsx)(xl,{})})]})]}):null},yl=function(){var e,t,r=(0,l.useRouter)().query.username,n=(0,i.useState)(!1),a=n[0],s=n[1],o=null===(e=Bt(r))||void 0===e||null===(t=e.data)||void 0===t?void 0:t.userContestRanking,c=(0,i.useCallback)((function(){return s(!a)}),[a,s]),u=Gt(r,{enabled:!0}),d=u.data,p=u.isLoading,m=function(e,t,r){return!!e||!t&&r}((0,f.D)(),p,d),v=!!o&&!!o.attendedContestsCount;return(0,w.jsxs)("div",{className:"lc-lg:max-w-[calc(100%_-_316px)] w-full",children:[(0,w.jsx)(gl,{}),(0,w.jsxs)("div",{className:M()("lc-xl:flex-row lc-xl:space-y-0 flex w-full flex-col space-x-0 space-y-4",{"lc-xl:space-x-4":!a,"lc-xl:space-x-0":a,"lc-lg:mt-0 mt-4":!v}),children:[(0,w.jsx)("div",{className:"".concat(a?"lc-xl:hidden":"min-w-max max-w-full"," w-full flex-1"),children:(0,w.jsx)(cr,{})}),(0,w.jsx)(Lt,{className:"h-[186px] w-full flex-1",children:(0,w.jsx)(Vn,{expanded:a,onExpand:c})})]}),m&&(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(Yt,{showSubmission:m})}),(0,w.jsx)("div",{className:"mt-4",children:(0,w.jsx)(fn,{showSubmission:m})})]})},Ol=r(67382),wl={revertBackIcon:M()("w-full h-full",d.Cj.label2),feedbackIcon:M()("w-full h-full",d.Cj.labelBlueStandard)},Nl="https://support.leetcode.cn/hc/request/guest/",Cl=function(){var e=M()(d.eq.card,d.Cj.bgLayer1,"cursor-pointer group h-12 w-12 rounded-lg flex mb-3 last:mb-0"),t=M()(d.Cj.fill4Hover,"h-full w-full rounded-lg flex"),r=(0,n.$G)("public-profile").t,l=(0,i.useCallback)((function(){de.a.profileFeedbackIconClick()}),[]);return(0,w.jsx)("div",{className:"z-overlay lc-md:right-[30px] lc-md:bottom-[31px] fixed bottom-4 right-4",children:(0,w.jsx)(u.u,{placement:"left",label:r("feedback.feedback"),children:(0,w.jsx)("a",{"aria-label":"feedback",onClick:l,href:Nl,target:"_blank",rel:"noreferrer",children:(0,w.jsx)("div",{className:e,children:(0,w.jsx)("div",{className:t,children:(0,w.jsx)("div",{className:"w-6 m-auto",children:(0,w.jsx)(Ol.f,{className:wl.feedbackIcon},"opt-out")})})})})})})},Pl=r(83815),kl=r(57689),Sl=r.n(kl),Dl=(r(98187),r(77661),r(5348),r(11270),Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"})),El=new RegExp("[".concat(Object.keys(Dl).join(""),"]"),"g"),Ml=function(e){return Dl[e]},Al=function(e,t){switch(typeof t){case"object":if(null===t)return;return t;case"number":case"boolean":case"bigint":return t;case"string":return t.replace(El,Ml);default:return}};var Ll=function(e){var t=e.structuredData;return(0,w.jsx)(Sl(),{children:(0,w.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t,Al)}})})},_l=r(88755),Rl=!0;function Bl(){var e,t,r,s=(0,n.$G)("public-profile").t,o=(0,R.U5)().data;(0,jr.Nk)(o);var c,u=(0,l.useRouter)().query.username,f=(0,x.G)(u,{enabled:Pl.Oo}).data,p=null===(e=(0,x.i)(u,{enabled:!Pl.Oo}).data)||void 0===e?void 0:e.userProfilePublicProfile,m=(null===p||void 0===p||null===(t=p.profile)||void 0===t?void 0:t.realName)||u,h=null!==(r=null===p||void 0===p?void 0:p.profile.globalLocation)&&void 0!==r?r:{},j=h.country,b=h.province,g=h.city,y=h.overseasCity,O=(0,i.useMemo)((function(){return null!==p&&void 0!==p&&p.educationRecordList&&p.educationRecordList.length>1?p.educationRecordList[0].unverifiedOrganizationName:""}),[null===p||void 0===p?void 0:p.educationRecordList]),N=(0,i.useMemo)((function(){return null!==p&&void 0!==p&&p.occupationRecordList?p.occupationRecordList.map((function(e){return e.jobTitle})):[]}),[null===p||void 0===p?void 0:p.occupationRecordList]),P=(0,i.useMemo)((function(){return null!==p&&void 0!==p&&p.occupationRecordList?p.occupationRecordList.map((function(e){return{"@type":"Organization",name:e.unverifiedOrganizationName}})):""}),[null===p||void 0===p?void 0:p.occupationRecordList]);return c=(0,i.useMemo)((function(){var e,t;return p?{"@context":"http://schema.org","@type":"Person",address:ie(j,b,g,y),alumniOf:[{"@type":"EducationalOrganization",name:O}],awards:[],image:{"@type":"ImageObject",contentUrl:(null===(e=p.profile)||void 0===e?void 0:e.userAvatar)||v.tU},jobTitle:N,name:(null===(t=p.profile)||void 0===t?void 0:t.realName)||u,url:"https://".concat(v._d,"/u/").concat(u),worksFor:P,sameAs:(null===p||void 0===p?void 0:p.profile.websites)||[]}:{}}),[p,f,j,b,g,y,O,N,P,u]),(0,i.useEffect)((function(){zt.B.locale("zh-cn")}),[]),(0,w.jsxs)(a.A,{sourceType:"profile_page_promote_button",rootClassName:d.Cj.bg,children:[(0,w.jsx)(Ll,{structuredData:c}),(0,w.jsx)(_l.p,{title:s("meta.title",{username:m}),description:s("meta.description",{username:m}),openGraph:{images:[{url:s("meta.ogImage")}]}}),(0,w.jsx)(C,{}),(0,w.jsxs)("div",{className:"lc-lg:flex-row lc-lg:space-x-4 flex flex-col overflow-visible",children:[(0,w.jsx)(Rt,{}),(0,w.jsx)(yl,{}),(0,w.jsx)(Cl,{})]})]})}},72102:function(e,t,r){"use strict";r.d(t,{u:function(){return g}});r(78464),r(29092),r(70748),r(91518),r(96543),r(62217),r(63306);var n=r(4676),l=r(7831),i=r(64386),a=r(58774),s=r(44872),o=r(11754),c=["className","sideOffset","collisionPadding","hasBorder","children"],u=["className","hasBorder"],d=["defaultOpen","open","onOpenChange","delayDuration","disableHoverableContent","children","label","hasBorder","hasArrow","arrowClassName","placement","isDisabled"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=a.zt,v=a.fC,x=a.h_,h=a.xz,j=i.forwardRef((function(e,t){var r=e.className,n=e.sideOffset,i=void 0===n?6:n,u=e.collisionPadding,d=void 0===u?8:u,f=e.hasBorder,m=e.children,v=(0,l.Z)(e,c);return(0,o.jsx)(a.VY,p(p({ref:t,sideOffset:i,collisionPadding:d,className:(0,s.yI)("bg-sd-popover text-sd-popover-foreground rounded-sd-md z-modal text-xs shadow","animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1","max-w-[300px]",{"border-sd-border border":f},r)},v),{},{children:(0,o.jsx)("div",{className:"rounded-sd-md relative px-3 py-1.5",children:m})}))}));j.displayName=a.VY.displayName;var b=i.forwardRef((function(e,t){var r=e.className,n=e.hasBorder,i=(0,l.Z)(e,u);return(0,o.jsx)(a.Eh,p(p({ref:t,asChild:!0},i),{},{children:(0,o.jsx)("div",{className:(0,s.yI)("absolute h-2 w-4 -translate-x-1/2 overflow-hidden",r),children:(0,o.jsx)("div",{className:(0,s.yI)("bg-sd-popover absolute left-1/2 h-1.5 w-1.5 -translate-x-1/2 -translate-y-1/2 rotate-45 rounded-br-[1px] shadow",{"border-sd-border border":n})})})}))}));b.displayName=a.Eh.displayName;var g=function(e){var t,r=e.defaultOpen,n=e.open,i=e.onOpenChange,a=e.delayDuration,s=void 0===a?100:a,c=e.disableHoverableContent,u=void 0===c||c,f=e.children,g=e.label,y=e.hasBorder,O=void 0===y||y,w=e.hasArrow,N=e.arrowClassName,C=e.placement,P=void 0===C?"bottom":C,k=e.isDisabled,S=(0,l.Z)(e,d),D=P.split("-")[0],E=null!==(t=P.split("-")[1])&&void 0!==t?t:"center";return k||!g?(0,o.jsx)(o.Fragment,{children:f}):(0,o.jsx)(m,{children:(0,o.jsxs)(v,{defaultOpen:r,open:n,onOpenChange:i,delayDuration:s,disableHoverableContent:u,children:[(0,o.jsx)(h,{asChild:!0,children:f}),(0,o.jsx)(x,{children:(0,o.jsxs)(j,p(p({side:D,align:E,hasBorder:O},S),{},{children:[g,w&&(0,o.jsx)(b,{className:N,hasBorder:O})]}))})]})})}},9671:function(e,t,r){"use strict";r.d(t,{_:function(){return n}});var n="text-ellipsis whitespace-nowrap overflow-hidden"},56378:function(e,t,r){"use strict";r.d(t,{a:function(){return i}});var n=r(14335),l=r(27654),i={profileFeedbackIconClick:function(){var e={key:"profile_feedback_icon_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileBackToOldClick:function(){var e={key:"profile_back_to_old_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileUserDropdownUsernameClick:function(){var e={key:"profile_user_dropdown_username_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileUserDropdownUsernameExposure:function(){var e={key:"profile_user_dropdown_username_exposure",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileDiscussClickAvatarOrNameClick:function(){var e={key:"profile_discuss_click_avatar_or_name_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileCardAvatarClick:function(){var e={key:"profile_profile_card_avatar_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileImNameClick:function(){var e={key:"profile_im_name_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileFollowedClick:function(){var e={key:"profile_profile_followed_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileFollowersClick:function(){var e={key:"profile_profile_followers_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileHelloWorldClick:function(){var e={key:"profile_profile_hello_world_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileEditClick:function(){var e={key:"profile_profile_edit_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileSubmissionRecordsClick:function(){var e={key:"profile_profile_submission_records_click",data:{}};n.V[l.X.GIO](e),n.V[l.X.GA4](e),n.V[l.X.CONSOLE](e),n.V[l.X.SELF_DB](e),n.V[l.X.DW](e)},profileProfileRecentlyPassedProblemClick:function(e){var t={key:"profile_profile_recently_passed_problem_click",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileRecentlyPassedProblemExposure:function(e){var t={key:"profile_profile_recently_passed_problem_exposure",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileAnswerClick:function(e){var t={key:"profile_profile_answer_click",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileAnswerExposure:function(e){var t={key:"profile_profile_answer_exposure",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileDiscussClick:function(e){var t={key:"profile_profile_discuss_click",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileDiscussExposure:function(e){var t={key:"profile_profile_discuss_exposure",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileSkillTabClick:function(e){var t={key:"profile_profile_skill_tab_click",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileMedalClick:function(e){var t={key:"profile_profile_medal_click",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)},profileProfileMedalExposure:function(e){var t={key:"profile_profile_medal_exposure",data:e};n.V[l.X.GIO](t),n.V[l.X.GA4](t),n.V[l.X.CONSOLE](t),n.V[l.X.SELF_DB](t),n.V[l.X.DW](t)}}},62321:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/u/[username]",function(){return r(98400)}])}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[5321,6898,8740,1931,818,5250,3029,3036,8774,7862,1583,3614,4174,8568,6560,2290,9598,2393,7,5937,9954,7093,2477,2833,4694,9031,3848,9774,2888,179],(function(){return t(59405),t(62321)}));var r=e.O();_N_E=r}]);